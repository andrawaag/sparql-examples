@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-210fcc9c97f2e7d84909638633e6018b> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d89137-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d89137-4FEEE33BD800456EFA879EA981D497BE,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-9C2B358EF48556379F961EF952EC3956, _:genid-4e694113159d4e3db4a1a913894a81d89137-05ACD6C9EA8326BF48DB0F8D07DCA618,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-74CCFA55B8B9103376D2C063924C50C5, _:genid-4e694113159d4e3db4a1a913894a81d89137-5CCA3E3D45CD9791D40ECB1DF965119C,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-74E89BD0943A59362FF32AB5F38C554D, _:genid-4e694113159d4e3db4a1a913894a81d89137-CB931807E65BBB75FF9A417F1C8EF662,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-CCA9661BB596229811F8EA6509391C36, _:genid-4e694113159d4e3db4a1a913894a81d89137-C22A527F0A4C11508067ECA19757C5F0,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-2092165EC3FB1568FEEB2F1CD00F86C4, _:genid-4e694113159d4e3db4a1a913894a81d89137-0EFA9C1D3CB0F5A50EF70729A88854ED,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-6FBC1FB14EB969FF859F1AE823498B42, _:genid-4e694113159d4e3db4a1a913894a81d89137-8C47A2BB96E429219A6205391EE1B8C1,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-6BD46DBBE56D674C1C14E37CD7F069DB, _:genid-4e694113159d4e3db4a1a913894a81d89137-DC1644506278803B93E7F58C7D07BBEF,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-7E6AD2B2C9C6EE133BEB1A3055BC3733, _:genid-4e694113159d4e3db4a1a913894a81d89137-7CC502FB6BF6FD005E4A113BE0FC6AA1,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-175E8783136EA6A9ED2BC7186C8D8D1C, _:genid-4e694113159d4e3db4a1a913894a81d89137-D72C502C42793234933A233E0F003C9B,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-E7FC80C853380EAE96B7C47B8C9E7F17, _:genid-4e694113159d4e3db4a1a913894a81d89137-30F51A54141ADAF6D1BF5F2A5E34EC4C,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-007B25770074CDBC14816595D9D354DC, _:genid-4e694113159d4e3db4a1a913894a81d89137-2D7806B5E21C06E65B8762046FE99DDE,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-44C956038A4F51799759CDDF992A5794, _:genid-4e694113159d4e3db4a1a913894a81d89137-C93B0CDBB6943F504EE19507F1CA74F5,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-39FBA7ED2920FD7778EE10634A9042CA, _:genid-4e694113159d4e3db4a1a913894a81d89137-68354A5156DB4F40D163BAEE7076F97F,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-596C3EC4063090BF85577E791F9EADAA, _:genid-4e694113159d4e3db4a1a913894a81d89137-A5615DDB5E6C74EE8120268B57EF70FA,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-FE4DC9906B233F62B41BA87F26731C1E, _:genid-4e694113159d4e3db4a1a913894a81d89137-0250534866BA62E77F3A8F4E7F414EB9,
    _:genid-4e694113159d4e3db4a1a913894a81d89137-C61E97C4FA10D4636AEB07AD86664646, _:genid-4e694113159d4e3db4a1a913894a81d89137-30F6BAF64160E61342B78D524838CA8B;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX bd: <http://www.bigdata.com/rdf#>
#Largest cities per country
SELECT DISTINCT ?city ?cityLabel ?population ?country ?countryLabel ?loc WHERE {
  {
    SELECT (MAX(?population_) AS ?population) ?country WHERE {
      ?city wdt:P31/wdt:P279* wd:Q515 .
      ?city wdt:P1082 ?population_ .
      ?city wdt:P17 ?country .
    }
    GROUP BY ?country
    ORDER BY DESC(?population)
  }
  ?city wdt:P31/wdt:P279* wd:Q515 .
  ?city wdt:P1082 ?population .
  ?city wdt:P17 ?country .
  ?city wdt:P625 ?loc .
  SERVICE wikibase:label {
    bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],mul,en\" .
  }
}
ORDER BY DESC(?population)""" .
