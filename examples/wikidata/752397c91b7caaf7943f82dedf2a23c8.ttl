@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-752397c91b7caaf7943f82dedf2a23c8> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d88879-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d88879-7D67DD5325794C827E6C8CF896BF0556,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-087CD07D20ACCDAC92352A872988B62C, _:genid-4e694113159d4e3db4a1a913894a81d88879-0F23487FDFAB5044468BAC9E7A0EF585,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-8790193BE81B28E501FF727A51E1B422, _:genid-4e694113159d4e3db4a1a913894a81d88879-A68A98C50D95E8F70AC92CCCAAD04EF6,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-901BAB114EB87039540E143E07C1A575, _:genid-4e694113159d4e3db4a1a913894a81d88879-B87519E8B20F53FA606B0CB79369D588,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-99D4FFEF6B7E568D0EA4421FFFBC5270, _:genid-4e694113159d4e3db4a1a913894a81d88879-783C71D4F47523D38B8DD2B7ADBA1E3A,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-6BAA1A08E09BF313AE96858365A7B12E, _:genid-4e694113159d4e3db4a1a913894a81d88879-2C0F045C2ADEB1CD4F54F7EAA0577A5E,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-DC7556F8B68B3556D7479FBD237683D8, _:genid-4e694113159d4e3db4a1a913894a81d88879-AD0D1A37079A1BB0FCC62AF9E4CDD921,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-1D4D322F71025F489BA5A018C44FA493, _:genid-4e694113159d4e3db4a1a913894a81d88879-B262F1E70FD324CFF0AC20EDA56F3347,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-0DB9B07E2EA97D18671936B671C2274F, _:genid-4e694113159d4e3db4a1a913894a81d88879-73035934208E8136D9D27F76EC61C185,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-243F89C3124C3B38EE2A539186CBBEA3, _:genid-4e694113159d4e3db4a1a913894a81d88879-D01BC6C0AF530455DA211B24D6054830,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-209B9EC58CFFC93140299A5D5AB461A5, _:genid-4e694113159d4e3db4a1a913894a81d88879-FCEA298F80914FFCFAAA69147D4A7EFF,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-A2A6ADF947E6786EF061BEBD17F8DF55, _:genid-4e694113159d4e3db4a1a913894a81d88879-FE5B2163FAC26B7143462A76EB72EB68,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-C3418B7BB6ABF47D1295C38716670E4A, _:genid-4e694113159d4e3db4a1a913894a81d88879-734CD8634AC8C48EB695C296E846AEE7,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-2964BA5A12E7F36E658029A27B99C2A4, _:genid-4e694113159d4e3db4a1a913894a81d88879-0B02B07E107579D298C7DEE36723F50D,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-CFC5BF772EACEB74C31E470CE8C19157, _:genid-4e694113159d4e3db4a1a913894a81d88879-0EA2725F89EE69A47D48559AB1E05B12,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-8356B841BE2C0BB865513A647C57939F, _:genid-4e694113159d4e3db4a1a913894a81d88879-78AA698D9183328D6D34063CD8C47A7A,
    _:genid-4e694113159d4e3db4a1a913894a81d88879-693655DACCD487DCB167C63A447190BC, _:genid-4e694113159d4e3db4a1a913894a81d88879-7B7E5076D06ED4773FE68E4AA40B5577;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX bd: <http://www.bigdata.com/rdf#>
#Lists emergency numbers and the total amount of people which can use them
#defaultView:BubbleChart
SELECT ?emergencyNumber ?emergencyNumberLabel ?tel ?population ?countries
WHERE
{
 ?emergencyNumber wdt:P31 wd:Q694554 .
  OPTIONAL{SELECT ?emergencyNumber (COUNT(?state) as ?countries) (SUM(?pop) as ?population) WHERE {
    ?state wdt:P2852 ?emergencyNumber .
    OPTIONAL{?state wdt:P1082 ?pop} .
    ?state wdt:P31/wdt:P279* wd:Q6256
  } GROUP BY ?emergencyNumber } .
  OPTIONAL{?emergencyNumber wdt:P1329 ?tel }
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],mul,en\" }
}
ORDER BY DESC(?population)""" .
