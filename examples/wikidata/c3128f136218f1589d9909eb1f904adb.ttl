@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-c3128f136218f1589d9909eb1f904adb> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d856654-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d856654-54949B66AE7AF11F2EB371EC52C390C1,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-8886B49DC1A5361395399564C336F16A, _:genid-4e694113159d4e3db4a1a913894a81d856654-E1CFBED22FE000F991968173CE79ED34,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-FAFE9F4CE1DDA44161D42E9359707DD7, _:genid-4e694113159d4e3db4a1a913894a81d856654-A0AF446BEA00FEBF014BE2B3D64C97B2,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-FE410CEC9329064E604E7819E9627DD1, _:genid-4e694113159d4e3db4a1a913894a81d856654-F6ACC5D75D1521D01ED56246E1845357,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-502C999DF577706B42897CE78377FD89, _:genid-4e694113159d4e3db4a1a913894a81d856654-0C925F805A12399728D2475D0676A99E,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-5F93FC20BFE529F674DF1BD5184005B0, _:genid-4e694113159d4e3db4a1a913894a81d856654-15D6DEE190B11A1A712E221DF2D29325,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-6908C9F66D9CF9061DDE22AE78BAD06E, _:genid-4e694113159d4e3db4a1a913894a81d856654-4A5657E7C17E65057CA02AE588FCFBA1,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-4D0E919D45624818AC4851A0287878E9, _:genid-4e694113159d4e3db4a1a913894a81d856654-EE6B92DCD700977478E0E15B3ABA35D6,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-CB77CFB58E5607EAC575A108EED73D47, _:genid-4e694113159d4e3db4a1a913894a81d856654-CC6954CBB9445DDD403E3B62E554F08C,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-9E01D1A811435930FB846DBCCC97DBFA, _:genid-4e694113159d4e3db4a1a913894a81d856654-8D02EA577157D3E16A01233C521A6E32,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-E10B430C3E0458A4A7F53F3B64237FED, _:genid-4e694113159d4e3db4a1a913894a81d856654-5B20A9792F7C1FE15478406757BA652B,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-7BCE60F09582210E8BAB715D35640A12, _:genid-4e694113159d4e3db4a1a913894a81d856654-60E78FC3DA260BB01E0555460167BE85,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-D3F930C7A865B08331812D3EFAB39309, _:genid-4e694113159d4e3db4a1a913894a81d856654-5C758BAEC185755A8A54324F0492F65D,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-DA9BDC750244D1A91802CB2707671438, _:genid-4e694113159d4e3db4a1a913894a81d856654-50B423EB19CA16C3E8B1347B8849EF6B,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-BAEAD0D04D622E553CA5D44C7A8BB644, _:genid-4e694113159d4e3db4a1a913894a81d856654-041EE0D65073A1D071ED792038485555,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-282646D935A1734AEEB93F1B5E8C96B1, _:genid-4e694113159d4e3db4a1a913894a81d856654-A3310B256F1F7923485A13A8AE9511A7,
    _:genid-4e694113159d4e3db4a1a913894a81d856654-AB1AE4DF72E369B6D3373C00801A3F0C, _:genid-4e694113159d4e3db4a1a913894a81d856654-C23B0B2A6E5F30DCA33D1362D014C249;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX bd: <http://www.bigdata.com/rdf#>
#defaultView:ScatterChart
PREFIX var_muntype: <http://www.wikidata.org/entity/Q15284>
PREFIX var_area: <http://www.wikidata.org/entity/Q6308>
SELECT ?from (?distNum AS ?kilometers) ?to (?to AS ?animation) WHERE {
  { SELECT ?mun (SAMPLE(?loc) AS ?loc)
    WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                 wdt:P131 var_area:;
                 wdt:P625 ?loc. }
    GROUP BY ?mun
  }
  OPTIONAL {
    { SELECT (?mun AS ?mun2) (SAMPLE(?loc) AS ?loc2)
      WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                   wdt:P131 var_area:;
                   wdt:P625 ?loc. }
      GROUP BY ?mun
    }
  }
  BIND(geof:distance(?loc, ?loc2) AS ?distNum).

  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],mul,en\".
    ?mun rdfs:label ?from.
    ?mun2 rdfs:label ?to.
  }
}
ORDER BY ?from ?kilometers""" .
