@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-276fa93fb5459c45d2c87581faeeccbc> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d847309-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d847309-4ADBC3485A7F67FB7FEBA7980E13194E,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-30E65B782986805D5160B6ADFD45E99B, _:genid-4e694113159d4e3db4a1a913894a81d847309-B8CF41BD942D9722BB1FDE161180F37F,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-FCA1D5752EF8F5C7CF72EC613083ADE0, _:genid-4e694113159d4e3db4a1a913894a81d847309-B32BF98917BC2029CF72A0F42C84F77E,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-FBF6FCBBE67F89A3DDA00473A37A331F, _:genid-4e694113159d4e3db4a1a913894a81d847309-3EECBCD51C669007AC238201C732B742,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-0C0B79AFDF123D1ADE992418D5FBDCEE, _:genid-4e694113159d4e3db4a1a913894a81d847309-6CD34A33D4B89651B362C6525C51D97F,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-3EA8D9E79859B418D9E6A7943EDC194B, _:genid-4e694113159d4e3db4a1a913894a81d847309-4D13EEC56F78C3121BF315AF54E4F6F9,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-06C7A0A66E42CB82D08A64515B8C704F, _:genid-4e694113159d4e3db4a1a913894a81d847309-A668DBE52C5CBFC46BC101EF460D926D,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-E945DFE1E25B05935DC3AA06BD43C059, _:genid-4e694113159d4e3db4a1a913894a81d847309-689C2948576AB3866A70FF55D97CEF84,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-72C7C837532A42E3DCF78A5EC1D50E4F, _:genid-4e694113159d4e3db4a1a913894a81d847309-91AFE1AC841341D98FDCDAC15C0A9D8E,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-F65503AE0D6A477F9649A3B054E211BE, _:genid-4e694113159d4e3db4a1a913894a81d847309-3FBED84793B76EDA2FBBA94F37FC5767,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-666FAE321115B1E33F62D727FC934AF3, _:genid-4e694113159d4e3db4a1a913894a81d847309-7DB7E58C6C8E64ECC01AE1A6EB532A84,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-59BF4D720A619CA79D1124BB175BD4F6, _:genid-4e694113159d4e3db4a1a913894a81d847309-A26241ECB8900BF6CC8C36A2C764B48D,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-2B597C098AF8800DD8A1A88E4B7EE286, _:genid-4e694113159d4e3db4a1a913894a81d847309-96C2458968B6C7A06B3B1BC6D30B85BC,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-2F0C233447E77FB235A53BA8AF805D1F, _:genid-4e694113159d4e3db4a1a913894a81d847309-80FA0D986D8C572FAC089A8F562DD387,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-C9171877E88D581A42A39635085CDA19, _:genid-4e694113159d4e3db4a1a913894a81d847309-E2BAEE27A214A911A151AA1454AF956A,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-F32D02768FA2977B021BBB0C61C4DAF7, _:genid-4e694113159d4e3db4a1a913894a81d847309-63F49736C88E7892BC3A9D247D29316A,
    _:genid-4e694113159d4e3db4a1a913894a81d847309-D729B9EEFA4DF55963A004E9A936944B, _:genid-4e694113159d4e3db4a1a913894a81d847309-83C18ABF976A04931FBD9F22B0233279;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX bd: <http://www.bigdata.com/rdf#>
#defaultView:ScatterChart
PREFIX var_muntype: <http://www.wikidata.org/entity/Q15284>
PREFIX var_area: <http://www.wikidata.org/entity/Q6308>
SELECT ?from (?distNum AS ?kilometers) ?to WHERE {
  { SELECT ?mun (SAMPLE(?loc) AS ?loc)
    WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                 wdt:P131 var_area:;
                 wdt:P625 ?loc. }
    GROUP BY ?mun
  }
  OPTIONAL {
    { SELECT (?mun AS ?mun2) (SAMPLE(?loc) AS ?loc2)
      WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                   wdt:P131 var_area:;
                   wdt:P625 ?loc. }
      GROUP BY ?mun
    }
  }
  BIND(geof:distance(?loc, ?loc2) AS ?distNum).

  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],mul,en\".
    ?mun rdfs:label ?from.
    ?mun2 rdfs:label ?to.
  }
}
ORDER BY ?from ?kilometers""" .
