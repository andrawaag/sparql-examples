@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-373093923ff834744b033a51abd118a2> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d830731-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d830731-726EDDD94DD18E28C722C4CD3CEF4663,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-7E5499C86C1F6ECD8AB75A0C5CA745EE, _:genid-4e694113159d4e3db4a1a913894a81d830731-FA3FE7DC5EB3C357E1FD6BE6E0FD4CBF,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-5837FB8DB3D9D8AE7C49380403C9EC50, _:genid-4e694113159d4e3db4a1a913894a81d830731-F882F2667F99C3EF2D59E22D613F75B1,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-6A2683FE7511331C78CFAFFC823241FE, _:genid-4e694113159d4e3db4a1a913894a81d830731-E46693127AAD653FBA798660E489FB8F,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-691E61E26E5D2F12F5710085C0FE999A, _:genid-4e694113159d4e3db4a1a913894a81d830731-C032D0FA4CBED85F912B3AF0910698ED,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-54D2F40398901501D74E758CF1AFEB34, _:genid-4e694113159d4e3db4a1a913894a81d830731-F73A2CCA7F202A51AC84666DF7BB6A27,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-343F9B4FC709DC220B14CB11CD553039, _:genid-4e694113159d4e3db4a1a913894a81d830731-4532DAA2898BBB220BF7EB6EB71C3E36,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-C3E269614037B5D756F2A6E598DA4998, _:genid-4e694113159d4e3db4a1a913894a81d830731-B1117C227CC84E609509E06DCEA0E72F,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-C97BBF2C4F48B3FB61CA0076BB3F69D1, _:genid-4e694113159d4e3db4a1a913894a81d830731-84034009DFA89BCEBE449781F81CA705,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-9F1C3E8C0D4444D43D04E5E20B121001, _:genid-4e694113159d4e3db4a1a913894a81d830731-09CBCB29E3827205C47C5B34F4BEFC87,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-C6AC8FA41F8FACDB715AF97ACD2A33BC, _:genid-4e694113159d4e3db4a1a913894a81d830731-4B3E66FB63A569CA30BBFADBAFAD90DA,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-FD383A892BFBCD0A496487C159111793, _:genid-4e694113159d4e3db4a1a913894a81d830731-727186C31EACEAA3C2559A1FE66C017A,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-898D0600130C7B8F92E3D34FB318A2F4, _:genid-4e694113159d4e3db4a1a913894a81d830731-C767EFF556BE4758BEAD74B100CFA03E,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-72045704ECD4D1602F918C9A652FDB49, _:genid-4e694113159d4e3db4a1a913894a81d830731-6017DA498951C0980E6D66D80550685A,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-51FBFD76E429E510C380B102255A594F, _:genid-4e694113159d4e3db4a1a913894a81d830731-ECDE6AD736DA877873157E8C56F0225F,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-389FCB1BF26EB3B4A1D51B976F00F3F0, _:genid-4e694113159d4e3db4a1a913894a81d830731-7943285394D346BC280CF32BD0DD9B7D,
    _:genid-4e694113159d4e3db4a1a913894a81d830731-BFAC7070143D136619E67F98399EDB51, _:genid-4e694113159d4e3db4a1a913894a81d830731-540BDDDD669EC1E08F10CEAC23838385;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX bd: <http://www.bigdata.com/rdf#>
#Gene and metabolite counts per path
#defaultView:ScatterChart
SELECT ?path ?genes ?metabolites ?pathway WHERE {
  {SELECT DISTINCT ?path (COUNT(?pwPart) AS ?genes) WHERE {
      ?path wdt:P2410 ?WikipathsID.
      ?path wdt:P527 ?pwPart.
      ?pwPart wdt:P31 wd:Q7187.
      SERVICE wikibase:label { bd:serviceParam wikibase:language \"en\". }
    }
    GROUP BY ?path ?genes
  }
  {SELECT DISTINCT ?path (COUNT(?pwPart) AS ?metabolites) WHERE {
      ?path wdt:P2410 ?WikipathsID.
      ?path wdt:P527 ?pwPart.
      ?pwPart wdt:P31 wd:Q11173.
      SERVICE wikibase:label { bd:serviceParam wikibase:language \"en\". }
    }
    GROUP BY ?path ?metabolites
  }
  OPTIONAL { ?path rdfs:label ?pathway. }
}
ORDER BY DESC(?genes)""" .
