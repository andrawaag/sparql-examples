@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-5c9b8b053473d0d92e0936280433376e> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  rdfs:comment """ This page is an archive. Please do not modify it. Use the current page, even to continue an old discussion. Contents 1 Extracting articles in other Languages. 2 Displaying null records in results tab 3 Items that links to specific websites 4 Querying qualifiers of Taxon Names 5 Jeugdliteratuur (2) 6 More than one value 7 Query for Subclass lithostratigraphic unit (Q3550897) 8 Autocomplete wikidata query 9 Mountains over 8000 meters 10 Searching for items with \"Formation\" in title, but no instance of (P31) 11 Display Label 12 Query for all versions added to MediaWiki 13 Adding qualifiers to a list 14 City maps 15 Surplus of coordinates 16 Help on showing place of publication (P291) qualifier 17 miRNA and mRNA in Duchenne muscular dystrophy 18 Constraint violation query needed 19 Youngest chess player with Elo rating 20 Count and list specific items 20.1 Questions 20.2 Merging 21 Count of items with particular subject 22 Months aren't having a SI unit definition 23 How to label result colums? 24 List of Ps used for a particular Q 25 Find all the examples of a kind of item with coordinates but without a 'located in the administrative territorial entity' statement but are located within an area shape 26 Folding matches 27 List of current sovereign states 28 Map showing the locations of all the current articles on the English Wikivoyage 29 Pulling start and end times for multiple home venues 30 Listing all items with more than 100 authors 31 Guinness World Records map 32 Retrieving items whose label matches a list 33 All values of a property 34 WikiFlix üìΩüçøü§© 35 GLAMS without coordinates 36 Request if a statement with a specific source is already present 37 Is it possible to get a list of books cited on the pages of a particular Wikipedia project or category (e.g., Literature) 38 String search 39 Query with a qualifier 40 Looking for Errata that don't have links to their corrected article 41 List of images from commons, which are in two categories 42 Inverted DOB day and month 43 DSS with titles 44 FILTER on two sitelink 45 Pull \"null\" values back 46 Filtering for only current properties 47 Time out 48 Help with query that times out 49 Names of all cities around the world with a population larger than one million 50 Improved MachtSinn query times out 51 Query where an english wikipedia article exists as a redirect 52 Query timing out 53 Example query with big cities in layers returns: java.lang.StackOverflowError 54 realiser une requete 55 Query for all entities that have a page in the Wikipedia of a given language 56 Union 57 Pillorys 58 Combine values Extracting articles in other Languages. Hi, I have a list of articles written in EN Wikipedia, and I want to extract the Arabic and French articles for them. Can this be done using WQS or Petscan? (For example: I have the En wikipedia article of Real Madrid and want to make a table that shows the french and arabic articles -if existed-) Thanks --Mohammad Hijjawi (talk) 17:43, 31 October 2019 (UTC) @Mohammad Hijjawi: It's very possible. Two approaches below, one which selects a set of records (in this case, cats), and the other which defines an arbitrary list of items based on their QIds. Note that in these examples the item must point to an en-wiki article ... wrapping OPTIONAL {} around the en-wiki element of the query would make having an en-wiki article options too. hth. SELECT ?item ?itemLabel ?sitelink_en ?article_en ?sitelink_fr ?article_fr ?sitelink_ar ?article_ar
WHERE 
{
  ?item wdt:P31 wd:Q146.
  ?sitelink_en ^schema:name ?article_en .
  ?article_en schema:about ?item ;
          schema:isPartOf <https://en.wikipedia.org/> .
  OPTIONAL {
  ?sitelink_fr ^schema:name ?article_fr .
  ?article_fr schema:about ?item ;
          schema:isPartOf <https://fr.wikipedia.org/> .
 }
  OPTIONAL {  
  ?sitelink_ar ^schema:name ?article_ar .
  ?article_ar schema:about ?item ;
          schema:isPartOf <https://ar.wikipedia.org/> .
 }
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}
 Try it! SELECT ?item ?itemLabel ?sitelink_en ?article_en ?sitelink_fr ?article_fr ?sitelink_ar ?article_ar
WHERE 
{
  VALUES ?item {wd:Q1201902 wd:Q1371145 wd:Q2060630 wd:Q2262318 wd:Q7714263 wd:Q12165555 wd:Q378619 wd:Q498787 
                            wd:Q677525 wd:Q851190 wd:Q1050083 wd:Q1207136 wd:Q1386318 wd:Q1413628 wd:Q1622688 
                            wd:Q1637234 wd:Q1759652 wd:Q2098929 wd:Q2300851 wd:Q2597104 wd:Q2624688 wd:Q2634968 
                            wd:Q3500553 wd:Q4421603 wd:Q5049074 wd:Q5105465 wd:Q5317221 wd:Q5496635 wd:Q5503291 
                            wd:Q5697905 wd:Q5715272 wd:Q6651160 wd:Q6703608 wd:Q6817786 wd:Q6845813 wd:Q6928344 
                            wd:Q7105840 wd:Q7172400 wd:Q7243868 wd:Q7366253 wd:Q7380911 wd:Q7430467 wd:Q7553023 
                            }
  ?sitelink_en ^schema:name ?article_en .
  ?article_en schema:about ?item ;
          schema:isPartOf <https://en.wikipedia.org/> .
  OPTIONAL {
  ?sitelink_fr ^schema:name ?article_fr .
  ?article_fr schema:about ?item ;
          schema:isPartOf <https://fr.wikipedia.org/> .
 }
  OPTIONAL {  
  ?sitelink_ar ^schema:name ?article_ar .
  ?article_ar schema:about ?item ;
          schema:isPartOf <https://ar.wikipedia.org/> .
 }
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}
 Try it! --Tagishsimon (talk) 02:52, 2 November 2019 (UTC) Displaying null records in results tab I have this query I would like to run for multiple teams but one of them does not have a record for \"date of opening\" so it disappears entirely. How do I get it to still display the record and its other information but just have \"null\" for the \"date of opening\" column? Any tips?SELECT ?team ?homeVenue ?homeVenueLabel ?coordLoc ?dateOfOpening WHERE { VALUES ?teams {wd:Q18741 wd:Q19644 wd:Q2714 wd:Q18744 wd:Q18747} ?teams wdt:P1448 ?team; wdt:P115 ?homeVenue. ?homeVenue wdt:P625 ?coordLoc;
                       wdt:P1619 ?dateOfOpening. SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE]\". } }‚Äì The preceding unsigned comment was added by 216.116.232.243 (talk ‚Ä¢ contribs) at 16:26‚Äé, 1 November 2019 (UTC). Use OPTIONAL, SELECT ?team ?homeVenue ?homeVenueLabel ?coordLoc ?dateOfOpening WHERE {
	  VALUES ?teams {wd:Q18741 wd:Q19644 wd:Q2714 wd:Q18744 wd:Q18747}
	  ?teams wdt:P1448 ?team; 
	  wdt:P115 ?homeVenue.
      ?homeVenue wdt:P625 ?coordLoc . 
      OPTIONAL {?homeVenue wdt:P1619 ?dateOfOpening . } 
	  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE]\". }
}
 Try it! --Larske (talk) 16:38, 1 November 2019 (UTC) Items that links to specific websites I need a query that lists all instances of official website (P856) that contains the word 'itch.io' (itch.io (Q22905933)), thanks. --Trade (talk) 22:04, 31 October 2019 (UTC) @Trade: SELECT ?linked_from ?linked_fromLabel ?p856 {
  ?linked_from wdt:P856 ?p856 .
  FILTER(CONTAINS(STR(?p856),'itch.io'))
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}
ORDER BY ?linked_fromLabel
 Try it! --Larske (talk) 16:28, 1 November 2019 (UTC) Thanks! --Trade (talk) 18:46, 2 November 2019 (UTC) Querying qualifiers of Taxon Names I'm trying to generate a query for species from a particular parent taxon (P171), with a pre-defined taxon name (P225) but with any qualifier statements (such as taxon author (P405)) also returned. My problem is that the field for taxon name is a string rather than a Q number. Sorry if this is really obvious, but I just can't seems to work out if this can be done. Many thanks JerryL2017 (talk) 14:37, 1 November 2019 (UTC) @JerryL2017: I think something along the lines of the below might work. (It has dummy values in it right now, so produces 0 rows.) Can you supply an example particular parent taxon (P171) and an example pre-defined taxon name (P225) which we can use in the query instead of Q123456 and \"foo\" and we'll see if it does the trick, and if not, move to fix whatever's wrong. SELECT ?item ?itemLabel ?taxon_name ?taxon_author  ?taxon_authorLabel 
WHERE 
{
  ?item wdt:P171 wd:Q123456                 # whatever the particular parent taxon value is
  ?item p:P225 ?stat .                      # there is a P225
  ?stat ps:P225 ?taxon_name .               # it has a taxon name         
  filter (?taxon_name=\"foo\")                # whatever the pre-defined taxon name is
  OPTIONAL {?stat pq:P405 ?taxon_author .}  # P225 might have P405 author name as a PQ
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}
 Try it! -- Tagishsimon (talk) 02:43, 2 November 2019 (UTC) Hi, many thanks @Tagishsimon:, I've added some real values below. This query doesn't seem to work though, I see: \"Query is malformed: Encountered \" <VAR1> \"?item \"\" at line 5, column 3.\" It's the second ?item. Also, one thing I hadn't said was that the taxon_name can be anything, I've added a value below, but that will only return a single taxon author, whereas I would like a list of taxon authors for all Volucella (Q1757472) SELECT ?item ?itemLabel ?taxon_name ?taxon_author  ?taxon_authorLabel 
WHERE 
{
  ?item wdt:P171 wd:Q1757472                # whatever the particular parent taxon value is
  ?item p:P225 ?stat .                      # there is a P225
  ?stat ps:P225 ?taxon_name .               # it has a taxon name         
  filter (?taxon_name=\"Volucella zonaria\")  # whatever the pre-defined taxon name is
  OPTIONAL {?stat pq:P405 ?taxon_author .}  # P225 might have P405 author name as a PQ
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}
 Try it! Thanks again JerryL2017 (talk) 08:12, 2 November 2019 (UTC) Update - I worked it out! Added a full stop to line 4 and removed the filter, this query does exactly what I need: SELECT ?item ?itemLabel ?taxon_name ?taxon_author  ?taxon_authorLabel 
WHERE 
{
  ?item wdt:P171 wd:Q1757472   .             # whatever the particular parent taxon value is
  ?item p:P225 ?stat .                      # there is a P225
  ?stat ps:P225 ?taxon_name .               # it has a taxon name         
  OPTIONAL {?stat pq:P405 ?taxon_author .}  # P225 might have P405 author name as a PQ
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}
 Try it! Thanks JerryL2017 (talk) 10:13, 2 November 2019 (UTC) Good work, JerryL2017. Apologies for the missed fullstop :) --Tagishsimon (talk) 11:57, 2 November 2019 (UTC) Of course @Tagishsimon:, I want to refine my query now, by limiting the output to just one row per species, currently I get multiple rows back as some species have more than one taxon author (P405). Preferred option would be to concatenate the names into a single field, but if that's too tricky then just picking the first one would also work. I've had a go, but keep getting aggregations errors. Further advice would be gratefully received. This is my current query: SELECT ?parent_taxonLabel ?taxon_name  ?item  ?year_described  ?taxon_author ?taxon_authorLabel  ?nomencaturalstatus ?nomencaturalstatusLabel ?inaturalist_ID  WHERE {
  ?item wdt:P171 wd:Q1757472;
    p:P225 ?stat.
  ?stat ps:P225 ?taxon_name.
  OPTIONAL { ?item wdt:P171 ?parent_taxon. }
  OPTIONAL { ?stat pq:P574 ?year_of_taxon_name_publication. }
  OPTIONAL { ?stat pq:P405 ?taxon_author. }
  OPTIONAL { ?stat pq:P1135 ?nomencaturalstatus. }
  OPTIONAL { ?item wdt:P3151 ?inaturalist_ID. }
  BIND(str(YEAR(?year_of_taxon_name_publication)) AS ?year_described).
 
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
  
} 
ORDER BY DESC (?year_described)
 Try it! JerryL2017 (talk) 17:52, 2 November 2019 (UTC) @JerryL2017: Along these lines, then. This aggregation deals only with duplicates arising out of a plurality of author values ... if other properties have more than one value then they may cause dupes. As a rule, any variable in the select which is not wrapped in (group_concat(?x) as ?y) or similar must appear in the GROUP BY. So if others cause problems, follow the pattern & you're good. I've extracted the QId from pq:P405 else the results would be a series of full URLs - http://www.wikidata.org/entity/Q14514738 style. SELECT ?parent_taxonLabel ?taxon_name  ?item  ?year_described (group_concat(distinct ?QI;separator=\"; \") as ?QId) (group_concat(?taxon_authorLabel;separator=\"; \") as ?author) ?nomencaturalstatus ?nomencaturalstatusLabel ?inaturalist_ID  WHERE {
  ?item wdt:P171 wd:Q1757472;
    p:P225 ?stat.
  ?stat ps:P225 ?taxon_name.
  OPTIONAL { ?item wdt:P171 ?parent_taxon. }
  OPTIONAL { ?stat pq:P574 ?year_of_taxon_name_publication. }
  OPTIONAL { ?stat pq:P405 ?taxon_author. 
             bind(replace(str(?taxon_author),\"http://www.wikidata.org/entity/\",\"\") as ?QI)
           }
  OPTIONAL { ?stat pq:P1135 ?nomencaturalstatus. }
  OPTIONAL { ?item wdt:P3151 ?inaturalist_ID. }
  BIND(str(YEAR(?year_of_taxon_name_publication)) AS ?year_described).
  SERVICE wikibase:label {bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\".     
                          ?taxon_author rdfs:label ?taxon_authorLabel .
                          ?nomencaturalstatus rdfs:label ?nomencaturalstatusLabel .
                          ?parent_taxon rdfs:label ?parent_taxonLabel
                         }
} GROUP BY ?parent_taxonLabel ?taxon_name ?item ?year_described ?nomencaturalstatus ?nomencaturalstatusLabel ?inaturalist_ID
ORDER BY DESC (?year_described)
 Try it! --Tagishsimon (talk) 18:11, 2 November 2019 (UTC) Thanks @Tagishsimon: that works great, just what I needed. JerryL2017 (talk) 18:26, 2 November 2019 (UTC) Jeugdliteratuur (2) Hi all! I have a problem: this simple query, SELECT DISTINCT ?link
WHERE {
  wd:Q48794415 wdt:P569 ?v .
  ?v prov:wasDerivedFrom ?ref .
  ?ref pr:P854 ?link .
  FILTER(contains(str(?link), \"http://jeugdliteratuur.org\"))
 }
 Try it! which should return one result, as you can see from Ivo van Orshoven (Q48794415), returns 0 results!The more general problem is that this query, SELECT DISTINCT ?x ?link
WHERE {
  ?x wdt:P27 ?statement .
  MINUS { ?x wdt:P7504 ?jl_id . }
  ?statement prov:wasDerivedFrom ?ref .
  ?ref pr:P854 ?link .
  FILTER(contains(str(?link), \"http://jeugdliteratuur.org\"))
 }
LIMIT 5
 Try it! about which I'm talking with @Horcrux:, returns (slowly) 0 results too, which is obviously impossible. Could you explain us which is the problem? --Ep√¨dosis 13:37, 2 November 2019 (UTC) @Ep√¨dosis: You need to use the p: value, not the wdt: value of e.g. P569 ... qualifiers and references hang off statements attached to the p: value ... nothing hangs off wdt: values; it's always a dead-end. SELECT DISTINCT ?link
WHERE {
  wd:Q48794415 p:P569 ?v .
  ?v prov:wasDerivedFrom ?ref .
  ?ref pr:P854 ?link .
  FILTER(contains(str(?link), \"http://jeugdliteratuur.org\"))
 }
 Try it! --Tagishsimon (talk) 13:52, 2 November 2019 (UTC) Shorter if the variables are not needed : SELECT DISTINCT ?link
WHERE {
  wd:Q48794415 p:P569/prov:wasDerivedFrom/pr:P854 ?link 
  FILTER(contains(str(?link), \"http://jeugdliteratuur.org\")) .
 }
 Try it! More than one value Hello,I try to find all the item who have for the property archives at (P485) more than 1 value.I try that (without results) #P485
SELECT ?item ?itemLabel (COUNT(?value) AS ?count )
WHERE 
{
  ?item p:P485 ?property.
  ?property ps:P485 ?value.
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}
HAVING (?count > 2)
 Try it! Thanks in advance --2le2im-bdc (talk) 20:33, 31 October 2019 (UTC) @2le2im-bdc:Your query are asking for more than 2 values. For more than one, you can use either ?count >= 2 or ?count > 1. You also need to GROUP BY, wich gives you #P485
SELECT ?item ?itemLabel (COUNT(?value) AS ?count )
WHERE 
{
  ?item p:P485 ?property.
  ?property ps:P485 ?value.
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}
GROUP BY ?item ?itemLabel
HAVING (?count > 1)
 Try it! With 1411 results, you have job to do ! Simon Villeneuve (talk) 00:30, 2 November 2019 (UTC) Great @Simon Villeneuve:! Thanks a lot! --2le2im-bdc (talk) 19:31, 2 November 2019 (UTC) Query for Subclass lithostratigraphic unit (Q3550897) Request a query that shows Subclass lithostratigraphic unit (Q3550897) are missing country (P17) but have located in the administrative territorial entity (P131). Can you include located in the administrative territorial entity (P131) and its country (P17) so I can determine which country to add to the listed item? Logic: the lithostratigraphic unit is in the territorial entity and territorial entity is in the country therefore the litho unit is in the country. Thanks, Trilotat (talk) 15:10, 1 November 2019 (UTC) @Trilotat:This sort of thing? most of the issues seem to be with things having a P31 of Q3550897, rather than being a subclass of Q3550897 (so, for instance, change the first part of the query to ?item wdt:P279* wd:Q3550897. and you get four rows only. SELECT ?item ?itemLabel ?P131 ?P131Label ?country ?countryLabel
WHERE 
{
  ?item wdt:P31/wdt:P279* wd:Q3550897.
  filter not exists {?item wdt:P17 [] . }
  ?item wdt:P131 ?P131 . 
  optional {?P131 wdt:P17 ?country .}
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}
 Try it! --Tagishsimon (talk) 16:05, 1 November 2019 (UTC) @Tagishsimon: This is awesome! Thanks so much. Perfect. Trilotat (talk) 16:23, 3 November 2019 (UTC) Autocomplete wikidata query Hi, I need a query.the query should act exactly like the api: https://www.wikidata.org/w/api.php?action=wbsearchentities&format=json&language=en&uselang=en&type=item&search=a
 https://www.wikidata.org/w/api.php?action=wbsearchentities&format=json&language=en&uselang=en&type=item&search=au
 https://www.wikidata.org/w/api.php?action=wbsearchentities&format=json&language=en&uselang=en&type=item&search=aut
 https://www.wikidata.org/w/api.php?action=wbsearchentities&format=json&language=en&uselang=en&type=item&search=auto
 https://www.wikidata.org/w/api.php?action=wbsearchentities&format=json&language=en&uselang=en&type=item&search=autoc
 https://www.wikidata.org/w/api.php?action=wbsearchentities&format=json&language=en&uselang=en&type=item&search=autoco
 https://www.wikidata.org/w/api.php?action=wbsearchentities&format=json&language=en&uselang=en&type=item&search=autocom
 https://www.wikidata.org/w/api.php?action=wbsearchentities&format=json&language=en&uselang=en&type=item&search=autocomp
 https://www.wikidata.org/w/api.php?action=wbsearchentities&format=json&language=en&uselang=en&type=item&search=autocompl
 https://www.wikidata.org/w/api.php?action=wbsearchentities&format=json&language=en&uselang=en&type=item&search=autocomple
 https://www.wikidata.org/w/api.php?action=wbsearchentities&format=json&language=en&uselang=en&type=item&search=autocomplete I want to query whenever the user types and I need Quid, label and description of every matching item. --Shisma (talk) 09:02, 3 November 2019 (UTC)Even the Wikidata query service is using the mediawiki api for its autocomplete actions. I get a distinct feeling that one just shouldn't do it with SPARQL--Shisma (talk) 11:41, 3 November 2019 (UTC) Mountains over 8000 meters Hello! The query example for mountains over 8000 meters gives also things that are over 8000 feet. How could we have a query for only mountains over 8.000 meters?I have tried this, but it seems too expensive: #Mountains over 8000 elevation
#added before 2016-10

SELECT ?subj ?label ?coord ?elev
WHERE
{
	?subj wdt:P2044 ?elev.
    ?placeElev wikibase:quantityAmount ?elev.
    ?placeElev wikibase:quantityUnit ?unit.
    bind(8 as ?km).
    filter( (?elev > ?km*1000 && ?unit = wd:Q11573)||
 Try it! Thanks! -Theklan (talk) 11:37, 3 November 2019 (UTC)@Theklan: Items used: mountain (Q8502) ‚ÄØ Properties used: instance of (P31) ‚ÄØ , located on astronomical body (P376) ‚ÄØ , elevation above sea level (P2044) ‚ÄØ SELECT ?item ?itemLabel ?itemDescription ?m
{
    hint:Query hint:optimizer \"None\".
    ?item wdt:P31 wd:Q8502 .
    ?item p:P2044 / psn:P2044 / wikibase:quantityAmount ?m .
    FILTER (?m > 8000)
    MINUS { ?item wdt:P376 [] }
    SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}
LIMIT 100 Try it!It uses psn-triples that convert to meters .. --- Jura 11:50, 3 November 2019 (UTC) It works great! Could someone change the query example at query.wikidata.org, please? -Theklan (talk) 11:54, 3 November 2019 (UTC) Searching for items with \"Formation\" in title, but no instance of (P31) I would like to make sure all the items with \"Formation\" in the title have a instance of (P31). I won't do a blanket QuickStatement batch, but I can review for what is appropriate and add instance of (P31) as formation (Q736917), scholarly article (Q13442814), process (Q3249551) or whatever. Thanks much. Trilotat (talk) 16:29, 3 November 2019 (UTC) @Trilotat: Special:Search/inlabel:formation@en -haswbstatement:P31 -haswbstatement:P279. I‚Äôve taken the liberty of excluding subclass of (P279) as well, based on the top results of the original search. Note that inlabel also seems to search aliases. --TweetsFactsAndQueries (talk) 17:00, 3 November 2019 (UTC) @TweetsFactsAndQueries: Thank you, I was unfamiliar with inlabel. That seems to pull the right results, but can you generate a WQS query? Otherwise, I'll struggle with generating a QuickStatement batch to parse the results. Thanks again. Trilotat (talk) 17:08, 3 November 2019 (UTC) @Trilotat: sure: SELECT ?item ?itemLabel WHERE {
  SERVICE wikibase:mwapi {
    bd:serviceParam wikibase:api \"Search\";
                    wikibase:endpoint \"www.wikidata.org\";
                    mwapi:srsearch \"inlabel:formation@en -haswbstatement:P31 -haswbstatement:P279\";
                    mwapi:srlimit \"max\".
    ?item wikibase:apiOutputItem mwapi:title.
  }
  ?item rdfs:label ?itemLabel.
  FILTER(LANG(?itemLabel) = \"en\")
  FILTER(CONTAINS(LCASE(?itemLabel), \"formation\")) # WikibaseCirrusSearch inlabel: also searches aliases, this limits to labels only
}
 Try it! --TweetsFactsAndQueries (talk) 23:16, 3 November 2019 (UTC) @TweetsFactsAndQueries: Thanks! Trilotat (talk) 19:55, 4 November 2019 (UTC) Display Label Hello,Could you help me to display label of the type? SELECT DISTINCT ?item ?itemLabel ?itemDescription (GROUP_CONCAT(DISTINCT(?type); separator=\", \") as ?typesLabel)
WHERE {
?item p:P485 ?statement. 
?statement ps:P485 ?archives. #option avoir d√©pos√© ses archives dans une institution
?statement pq:P518 ?type.
SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],fr,it,de,nl,en\". }
}
GROUP BY ?item ?itemLabel ?itemDescription ?typesLabel
ORDER BY ?itemDescription ?itemLabel
LIMIT 100
 Try it! Thanks in advance --2le2im-bdc (talk) 06:50, 4 November 2019 (UTC) @2le2im-bdc: SELECT DISTINCT ?item ?itemLabel ?itemDescription (GROUP_CONCAT(DISTINCT(?typeLabel); separator=\", \") as ?typesLabel)
WHERE {
?item p:P485 ?statement. 
?statement ps:P485 ?archives. #option avoir d√©pos√© ses archives dans une institution
?statement pq:P518 ?type.
SERVICE wikibase:label {
  bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],fr,it,de,nl,en\".
  ?item rdfs:label ?itemLabel;
        schema:description ?itemDescription.
  ?type rdfs:label ?typeLabel.
}
}
GROUP BY ?item ?itemLabel ?itemDescription ?typesLabel
ORDER BY ?itemDescription ?itemLabel
LIMIT 100
 Try it! You need to use ?typeLabel instead of ?type in the GROUP_CONCAT, and also inform the label service which variables are associated with one another, because it can‚Äôt auto-detect the combination in this case; and because specifying ?type rdfs:label ?typeLabel also disables all other auto-detection of the label service, ?itemLabel and ?itemDescription need to be wired up as well. --TweetsFactsAndQueries (talk) 10:43, 4 November 2019 (UTC) Thanks a lot @TweetsFactsAndQueries: ! --2le2im-bdc (talk) 20:24, 4 November 2019 (UTC) @TweetsFactsAndQueries: Why does specifying ?type rdfs:label ?typeLabel disable all other auto-detection of the label service? Has always puzzled me. Doesn't seem especially advantageous. --Tagishsimon (talk) 11:18, 4 November 2019 (UTC) Query for all versions added to MediaWiki I am having a jolly good time trying to figure out this utterly basic query, using the query helper. I believe this is a 10 second task however I fail. This is what I got: """@en;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:Request_a_query/Archive/2019/11>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d849535-wikidata_prefixes;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX bd: <http://www.bigdata.com/rdf#>
SELECT ?wiki_software ?wiki_softwareLabel ?software_version_identifier WHERE {
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
  ?wiki_software wdt:P31 wd:Q6686945.
  OPTIONAL { ?wiki_software wdt:P348 ?software_version_identifier. }
}
LIMIT 100""" .
