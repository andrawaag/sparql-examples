@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-014a2f17f95f9be31cae41216d999e3a> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d852577-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d852577-638918DA7F85D11008C17F2E9E20ED84,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-4C92207B10B9A7756369806D25AF3E8C, _:genid-4e694113159d4e3db4a1a913894a81d852577-813D1D162002D503943D0E37A298C76B,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-67E3A317DE36453E440F03B3A95A7115, _:genid-4e694113159d4e3db4a1a913894a81d852577-2DD24F98B6561DBE7402B4C3F4D02753,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-D1B20148507525E973DD84B9CBFC1BB0, _:genid-4e694113159d4e3db4a1a913894a81d852577-A423144B554DF4A8FF76E3BA24701775,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-59872A197FA23EBC4207F055D2526E2F, _:genid-4e694113159d4e3db4a1a913894a81d852577-AFA92BED018F12ACB9D2737F97DE3A39,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-4F12E3FE66A14B995FE9BEEDF9662ED4, _:genid-4e694113159d4e3db4a1a913894a81d852577-1761B49954F5766121B3660E38C75169,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-C2541AED5C5C9165EB4D073EDF9BC1E0, _:genid-4e694113159d4e3db4a1a913894a81d852577-DF55E3ED70FF3460F26E392D804BD273,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-0E40B53577FEB06415B1F16D84FF9696, _:genid-4e694113159d4e3db4a1a913894a81d852577-31793F12D7561880438A7B8CEEFAA0F7,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-F3AC8F212148DA779E0171FCD9D1AB16, _:genid-4e694113159d4e3db4a1a913894a81d852577-E43F10EC6E40C69DDBC09D5251D43801,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-0E3E7B2299FDC62515366CFAFFA9F627, _:genid-4e694113159d4e3db4a1a913894a81d852577-AB9FAE767161B0F134956D2079D4BAB0,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-EBD74F48982ADE3A4ECE39F8AE300586, _:genid-4e694113159d4e3db4a1a913894a81d852577-6F0735355B4AFEB35449E1C38BAD393A,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-8A614C41AD3E7170621B55560E3DB68B, _:genid-4e694113159d4e3db4a1a913894a81d852577-3973C059A4F89A4C7A6E5C85D44E472C,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-F2C83436DD8DA309E42CFDEDDB52FA42, _:genid-4e694113159d4e3db4a1a913894a81d852577-7ADA49E631CDA3DFF7F2C31905101FA7,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-0562E718AED8EABCCE04B334FB84FD0B, _:genid-4e694113159d4e3db4a1a913894a81d852577-FA9C2CB2775B7AB9552B4DA54AE613A1,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-9FB449320B66FCE6E4E5ED934A69AD09, _:genid-4e694113159d4e3db4a1a913894a81d852577-00C473C63BAFCE7E77C8B46FA9F65706,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-8AB1BACB44429B9E2EC10B531F275591, _:genid-4e694113159d4e3db4a1a913894a81d852577-E01D14FD41C3C7F60E94D24ADD2DE150,
    _:genid-4e694113159d4e3db4a1a913894a81d852577-D8B75095FA8F8AD51BAB2A2EB443209C, _:genid-4e694113159d4e3db4a1a913894a81d852577-19ABF7F1D8480096FB12D95660051290;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
# Show the names of 100 cities with a population larger than 1000000 in the native languages of their countries
SELECT ?city ?cityLabel ?country ?countryLabel ?lang ?langLabel ?langCode ?population
WHERE
{
  ?city wdt:P1082 ?population . hint:Prior hint:runFirst true.

  FILTER(?population>1000000)

  ?city wdt:P31 wd:Q515;
        wdt:P17 ?country;
        rdfs:label ?cityLabel .
  ?country wdt:P37 ?lang;
           rdfs:label ?countryLabel .
  ?lang wdt:P424 ?langCode;
        rdfs:label ?langLabel .

  FILTER(lang(?cityLabel)=?langCode)
  FILTER(lang(?countryLabel)=?langCode)
  FILTER(lang(?langLabel)=?langCode)
} LIMIT 100""" .
