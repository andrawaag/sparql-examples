@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-59d891fae3aa3af76921d77d90289696> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d860398-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d860398-9DFB9D4A12FFF666E575EBD0A775574E,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-C09847D4F8DB0029FF4CF06A0C33F0C1, _:genid-4e694113159d4e3db4a1a913894a81d860398-37CB67EF5630F212B7FDD6C9F4C25077,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-CCCA4FEECDFF7ECFB61D59F393182AC4, _:genid-4e694113159d4e3db4a1a913894a81d860398-0C0C2C2F1681A283542991B3BC5C87EF,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-11CE475033AEA7B8FD1AB28B95F907F8, _:genid-4e694113159d4e3db4a1a913894a81d860398-FF57852ADB875DE9FF21472EA30559D8,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-FC55DFBD51E36659332674E5DB81F302, _:genid-4e694113159d4e3db4a1a913894a81d860398-52812F5F06866F0A8FE0F59E8655EC7A,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-24B87CF271BDCF518B5630A0D933A2C3, _:genid-4e694113159d4e3db4a1a913894a81d860398-997BB6CEAE2D9D4B2DEC3726BBDBA443,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-DA3A54567625AA4EB4EE6C0758269614, _:genid-4e694113159d4e3db4a1a913894a81d860398-B215ECF1A627E673B8730860EECA4920,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-43430D609B526979E19466B8D475ACA7, _:genid-4e694113159d4e3db4a1a913894a81d860398-19251060943FF934D5CFA316AF28B88E,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-3555CC3F6806B302FB07E49FC8C43BF8, _:genid-4e694113159d4e3db4a1a913894a81d860398-9A2FC07AD8E93A60213FEE412182CE89,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-E63285F35BB9332EF4FEC1285BFAD31F, _:genid-4e694113159d4e3db4a1a913894a81d860398-152C0B1D46180A4C21E1ABBF2B4F7EB0,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-6EF2AEBC95321ED01A3C5A0613297543, _:genid-4e694113159d4e3db4a1a913894a81d860398-6E4A2355A3966EEC9899871276C7864E,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-8B32B2CD7851E595D2451CA860902EE5, _:genid-4e694113159d4e3db4a1a913894a81d860398-D7DD9D67E9419D434F11542EB5114464,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-EDD337219BD6EBF3CB090D3B92394DDD, _:genid-4e694113159d4e3db4a1a913894a81d860398-474E1C96F85DFD927D8DE5B21D9AD452,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-D32F34CF12E62AF1D8498435A4EE9463, _:genid-4e694113159d4e3db4a1a913894a81d860398-8903D1957262FB122872D0C63C2D3321,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-81D7D6CD4A011DB84C6451AA8172F20F, _:genid-4e694113159d4e3db4a1a913894a81d860398-9C8F7CCA42E733CB2D30CB14A913D55E,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-060D31B025D8E3C565AC320BE7675ECC, _:genid-4e694113159d4e3db4a1a913894a81d860398-C5841BDB6CCB1FCB58655D7444512CDD,
    _:genid-4e694113159d4e3db4a1a913894a81d860398-E6E37E6BB2A6C5F38DD8D631F1034921, _:genid-4e694113159d4e3db4a1a913894a81d860398-DCA296B7F2748ED8F209128C43FC4F20;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
SELECT
  ?item
  (SAMPLE (?itemL) AS ?title)
  (SAMPLE (?y) AS ?year)
  (SAMPLE (?typeL) AS ?type)
  (group_concat(DISTINCT ?materialL ; separator = \", \") as ?materials)
  (SAMPLE (?collectionL) AS ?collection)
  (SAMPLE (?img) AS ?image)
{
  SELECT ?item ?itemL (YEAR(?date) AS ?y) ?typeL ?collectionL ?img ?materialL
  WHERE {
    ?item wdt:P179 wd:Q471379 .
    ?item wdt:P18 ?img .
    ?item wdt:P571 ?date .
    ?item wdt:P31 ?instance .
    ?item rdfs:label ?itemL FILTER (lang(?itemL) = \"en\").
    ?instance rdfs:label ?typeL FILTER (lang(?typeL) = \"en\").
    OPTIONAL {
      ?item wdt:P195 ?collection .
      ?collection rdfs:label ?collectionL FILTER (lang(?collectionL) = \"en\").
    }
    OPTIONAL {
      ?item wdt:P186 ?material .
      ?material rdfs:label ?materialL FILTER (lang(?materialL) = \"en\").
    }
  }
}
GROUP BY ?item
ORDER BY ?year ?item ?itemLabel""" .
