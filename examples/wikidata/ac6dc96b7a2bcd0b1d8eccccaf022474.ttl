@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-ac6dc96b7a2bcd0b1d8eccccaf022474> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d816379-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d816379-832888E6B19E5715429C281A2E63AC0E,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-A462662BCF6B20E7BCC24B354C7ECFA8, _:genid-4e694113159d4e3db4a1a913894a81d816379-EFA320709CFC35E1CB29E41359A21FCF,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-72C9D3C1E1B30C029BB9F9D1D72A55A4, _:genid-4e694113159d4e3db4a1a913894a81d816379-2EC4D74F07A74E00B02E3AC247C98E17,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-0A301199DF72D3AE610E35BA1EEDB29D, _:genid-4e694113159d4e3db4a1a913894a81d816379-A549BED06E4F419B69C1787F9007A3E8,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-E9AD2CE04E2FB6B501AD224DADF48898, _:genid-4e694113159d4e3db4a1a913894a81d816379-0AFF6DE2DF3CC42EC41277782AB5B9E8,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-64F34FADA2BA19088795B0402EB4E20D, _:genid-4e694113159d4e3db4a1a913894a81d816379-96EE32A9A72AC641C4D302EA0F0F17D3,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-F8FA6362DA3C47432C4B7CE5C0102D98, _:genid-4e694113159d4e3db4a1a913894a81d816379-4F6F13289A797AB64078D4D7A9EC2A1A,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-EDDBEBB86D9469F0241EDC3B532BAEAA, _:genid-4e694113159d4e3db4a1a913894a81d816379-ED4A86D68D547DD894DB24D394F9F871,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-1592244907B3E97E0DB69BA94B4C9288, _:genid-4e694113159d4e3db4a1a913894a81d816379-A8B90F62978AB216E89FA096F3E6AD32,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-D3C9D5B733D731FC110DE8C0B0D932AD, _:genid-4e694113159d4e3db4a1a913894a81d816379-EC7271A27506F23A1AC846DA9733566D,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-80B7B93C85518AD542E2E98E119637E1, _:genid-4e694113159d4e3db4a1a913894a81d816379-22AE60EA6822EC14FB42FCDDE2C27E13,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-BAC2E240D7FF4E58FFA9505A89082001, _:genid-4e694113159d4e3db4a1a913894a81d816379-A1CD28527AC9B1FE2FAEFC06DD3736EB,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-6E526EC1F9D6F3967711EAC8AE314970, _:genid-4e694113159d4e3db4a1a913894a81d816379-A3E1033C47DA384CADCCE8CF37E4C11C,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-AB36DC3355F07887289DD76D5258DC3C, _:genid-4e694113159d4e3db4a1a913894a81d816379-1E9EC405EF9416953F7B46164C8945EE,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-BB89F13BF63B1637B82B9DFDF5A60F48, _:genid-4e694113159d4e3db4a1a913894a81d816379-AA210EF9A7C0AA2E191E4DC361557F91,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-00048CCB1B41DAB09DAF32ED71355933, _:genid-4e694113159d4e3db4a1a913894a81d816379-F43BC7955B2A862AABCCEF9418F2F7E4,
    _:genid-4e694113159d4e3db4a1a913894a81d816379-F65F82BF42A4F81A4B2FF8389A274713, _:genid-4e694113159d4e3db4a1a913894a81d816379-44B1456BAA815BAD4E5267E8F10FCA11;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX ps: <http://www.wikidata.org/prop/statement/>
PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
PREFIX p: <http://www.wikidata.org/prop/>
PREFIX bd: <http://www.bigdata.com/rdf#>
#defaultView:Map
SELECT DISTINCT ?country ?countryLabel ?capital ?capitalLabel ?coordinates ?ended
WHERE
{
  ?country p:P36 ?stat.
  ?stat ps:P36 ?capital.
  ?capital wdt:P625 ?coordinates.
  OPTIONAL {
    ?country wdt:P582|wdt:P576 ?ended.
  }
  OPTIONAL {
    ?capital wdt:P582|wdt:P576 ?ended.
  }
  OPTIONAL {
    ?stat pq:P582 ?ended.
  }
  FILTER(BOUND(?ended)).
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],mul,en\". }
}""" .
