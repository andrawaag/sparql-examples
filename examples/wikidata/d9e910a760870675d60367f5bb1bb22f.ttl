@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-d9e910a760870675d60367f5bb1bb22f> a sh:SPARQLExecutable;
  rdfs:comment """Other languages: Bahasa Indonesia British English Deutsch English Esperanto Lëtzebuergesch Nederlands Türkçe català dansk español français italiano polski svenska Ελληνικά беларуская (тарашкевіца) русский српски / srpski українська հայերեն עברית العربية བོད་ཡིག 中文 日本語 粵語 Interface WDQS Bulles d'aide sur les éléments SPARQL Sélection de l'affichage des résultats WDQS Lien pour afficher le script WDQS à partir de la page des résultats suite à Essayez ! Cette page décrit l'interface WDQS et vous aidera à comprendre les différentes possibilités pour afficher les résultats du Service de requête SPARQL. La page d'exemples de requêtes contient de nombreux exemples que vous pouvez essayer.Ouvrir l'interface WDQS puis : sélectionner votre langue dans sur la barre d'outils supérieure. écrire du code SPARQL valide dans le champ textuel. vérifiez votre code en survolant les éléments avec la souris; les bulles d'aide apparaitront pour vous aider à confirmer vos sélections. La langue sera celle que vous aurez sélectionnée pour l'interface (repli sur l'anglais). puis cliquer sur le bouton bleu Exécuter la requête de la barre latérale pour lancer la requête. Le bouton carré rouge est allumé dans la barre latérale pendant l'exécution de la commande qui peut ainsi être stoppée. après avoir exécuté une requête, vous pouvez choisir parmi les différents formats d'affichage du résultat. En fonction de votre requête et du type de données, plusieurs vues différentes peuvent ne pas être possibles. Exemple de source # Recent events
SELECT ?event ?eventLabel ?date
WHERE
{
  # find events
  ?event wdt:P31/wdt:P279* wd:Q1190554.
  # with a point in time or start date
  OPTIONAL { ?event wdt:P585 ?date. }
  OPTIONAL { ?event wdt:P580 ?date. }
  # but at least one of those
  FILTER(BOUND(?date) && DATATYPE(?date) = xsd:dateTime).
  # not in the future, and not more than 31 days ago
  BIND(NOW() - ?date AS ?distance).
  FILTER(0 <= ?distance && ?distance < 31).
  # and get a label as well
  OPTIONAL {
    ?event rdfs:label ?eventLabel.
    FILTER(LANG(?eventLabel) = \"en\").
    }
}
# limit to 10 results so we don't timeout
LIMIT 10 Note : vous pouvez aussi utiliser les liens Essayer de cette page qui exécutent directement des requêtes codées en dur. Quand le panneau d'affichage des résultats est élaboré ou après que les résultats soient générés, vous pouvez toujours revenir au script du source en cliquant sur le lien en bas de l'interface. Contents 1 Tableau (par défaut) 2 Grille d'images 2.1 Options 3 Carte 3.1 Options 4 Graphiques en lignes, barres, points et aires 5 Graphique à bulles 6 Graphe d'arborescence 7 Arbre 8 Frise chronologique 8.1 Options 9 Dimensions 10 Graphe 11 Informations complémentaires 11.1 Affichage du type de données RDF 11.2 Formatage 11.3 Affichage sur mobile ou réactif 11.4 Mode intégration (embed) 11.5 Téléchargement des résultats 11.6 Affichage par défaut 11.7 Options d'affichage des résultats 11.8 Titre 11.9 Liste des balises WDQS 11.10 Langue automatique 11.11 Coordonnées automatiques Tableau (par défaut) Affiche le résultat sous forme de tableau. Il s'agit de la vue par défaut des résultats et fonctionne avec tous les types de données.Affichera toutes les variables du SPARQL SELECT dans une colonne de tableau formaté. Résultats sous forme de tableau Résultats sous forme de tableau pour les petits écrans avec les colonnes inversées  Grille d'images Grille d'images EssayerAffiche le résultat sous forme d'une grille d'images.Chaque élément de la grille a une grande image et ouvre la galerie lorsque l'on clique dessus.Contient un élément avec les données formatées en ligne. Variable Type de données Affichage Description * Fichier média de Commons Élément de la grille Les colonnes de l'image vont créer un élément de la grille Les lignes ne contenant pas d'image sont ignorées.Il est néanmoins possible d'inclure aucune ligne d'image dans le résultat en modifiant le script SPARQL pour inclure une image par défaut au cas où la variable d'image ne serait pas liée : optional {
    ?item wdt:P18 ?img_ .
  }
  bind (if(bound(?img_), 
           ?img_, 
           <http://commons.wikimedia.org/wiki/Special:FilePath/File:Profile_avatar_placeholder_large.png>) as ?image) # [[:commons:File:Profile_avatar_placeholder_large.png]] est un joker ici le fichier commons:File:Profile avatar placeholder large.png est utilisé comme joker, à remplacer par le votre.Voir un exemple complet de requête utilisant cette technique. Options Nom de l'option Type Description hide Un ou plusieurs noms de variables (chaînes commençant avec ?), valeur simple ou tableau Ne montre pas ces variables dans le résultat.  Carte Montre les résultats sur une carte avec les données Open Street Map. Variable Type de données Affichage Description * Coordonnées ou forme géographique Marqueur sur la carte Les colonnes vont créer un marqueur sur la carte. Le contenu de ce marqueur est constitué des données formatées de la ligne. ?layer Couche de marqueur de carte Crée une couleur de marqueur géographique qui permet de filtrer les résultats. ?rgb Couleur Couleur du marqueur sur la carte Par exemple 000000 pour la couleur noire. Carte avec des couches Essayer Carte des aéroports de Belgique Essayer Techniquement tout littéral textuel bien connu peut être affiché, et pas simplement les coordonnées d'un point. Les valeurs géométriques qui ne sont pas des points ne sont jamais stockées dans Wikidata, mais elles peuvent être construites en SPARQL en utilisant les fonctions comme CONCAT() et STRDT() – voir cette carte des lignes de chemin de fer tchèques pour un exemple de géométrie LINESTRING(). Options Spécifier l'option en utilisant par exemple #defaultView:Map{\"hide\":[\"?foo\", \"?bar\"],\"layer\":\"?bar\"}, ou en utilisant un tableau lorsqu'il y a plusieurs variables. Nom de l'option Type Description hide Un ou plusieurs noms de variables (chaînes commençant avec ?), valeur simple ou tableau Ne pas afficher ces variables dans le résultat. layer Un ou plusieurs noms de variables (chaînes commençant avec ?), valeur simple ou tableau Utilise ces variables pour la couche de la carte, au lieu de ?layerLabel, ?layer par défaut. markercluster booléen ou objet Si la valeur est un objet, passer ces options à Leaflet.markercluster, un greffon de carte pour regrouper les marqueurs géographiques de proximités. (Si la valeur est l'objet vide {}, Leaflet.markercluster est activé avec ses options par défaut). Si la valeur est true (par défaut pour les requêtes sans niveau dans les cartes), Leaflet.markercluster est activé avec un ensemble particulier d'options qui ne regroupent pas de quelconques marqueurs géographiques de proximité (relie simplement les marqueurs ayant exactement les mêmes coordonnées) et tente de répliquer l'aspect par défaut de la carte autant que possible. Si la valeur est false (par défaut pour les requêtes avec des niveaux de cartes), Leaflet.markercluster n'est pas activé.  Graphiques en lignes, barres, points et aires Affiche l'un de ces types de graphiques. Variable Type de données Affichage Description * Nombre Libellé DateHeure Axe X Axe Y La première sera l'axe des abscisses (X), le second l'axe des coordonnées (Y) * Libellé Catégorie / élément de légende (facultatif) Sera utilisé une fois que les précédents sont affichés * Libellé Storyboard / Animation (facultatif) Sera utilisé une fois que les précédents auront été affichés Graphique en lignes Essayer Graphique en aires Essayer Graphique en barres (animé) Essayer Graphique par points (animé) Essayer  Graphique à bulles Graphique à bulles Essayer Affiche un graphique à bulles où la taille et la couleur des bulles peuvent être configurées.Quand un élément est fourni, la bulle contient un lien vers Wikidata.org . Variable Type de données Affichage * Libellé Libellé de la bulle * Nombre Taille de la bulle * Élément Lien de la bulle (facultatif) ?rgb Couleur Couleur de la bulle (facultatif)  Graphe d'arborescence Graphique en arborescence Essayer Montre un graphique en arborescence sur lequel on peut zoomer. Variable Type de données Affichage Description * Libellé Libellé Le premier libellé de la ligne sera le premier niveau de l'arborescence. Le deuxième libellé sera le deuxième niveau. Le troisième libellé sera le troisième niveau, etc. * Élément Lien (optionel) * Quantité Taille  Arbre Affiche un arbre extensible. Arbre Essayez Variable Type de données Affichage Description * Élément Identifiant du nœud Le premier élément sera un nœud racine. Les éléments suivants dans la même rangée seront indentés. * Libellé Libellé du nœud (optionnel) Etiquettes à ajouter au noeud actuel. * Nombre Libellé du nœud (optionnel) * Fichier média de Commons Image de l'élément  Frise chronologique Frise chronologique Essayer Affiche une frise chronologique que l'on peut explorer. Variable Type de données Affichage Description * DateHeure Point de l'élément dans le temps Point de fin d'élément dans le temps La première date dans une ligne place la position de l'élément dans la frise. Si une seconde date est présente, elle correspondra à la date de fin. * Fichier média de Commons Image de l'élément Options Nom de l'option Type Description hide Un ou plusieurs noms de variables (chaînes de caractères commençant par ?), valeur seule ou tableau Ne pas montrer ces variables dans le résultat. Dimensions Dimensions Essayer Affiche les dimensions et leurs liens.Il est aussi possible de les filtrer en sélectionnant une portion de l'axe.Ce type de graphe est aussi connu comme parallel coordinates. Variable Type de données Affichage Description * Libellé Dimension Chaque colonne de la ligne de résultat est affichée sur une dimension * Nombre * DateHeure  Graphe Affiche un graphe interactif qui peut ordonner hiérarchiquement et explorer les éléments. Variable Type de données Affichage Description * Élément Identifiant du nœud Le premier élément d'une ligne decvariables de sortie aura une flèche qui pointe sur les autres éléments de la même ligne. * Libellé Libellé du nœud (optionnel) * Fichier média de Commons Image du nœud (optionnel) ?rgb Couleur Couleur du nœud (optionnel) Couleur de l’élément juste avant la variable ?rgb. Par exemple pour la couleur noire au format rrvvbb : 000000. * Nombre Taille du nœud (optionnel) ?edgeLabel Libellé Texte de l'arête (facultatif) Graphe Graphe autour d'Abraham Lincoln (animé)  Informations complémentaires  Affichage du type de données RDF Type RDF Type de données RDF Contrainte Type de données URI La chaîne commence par http://www.wikidata.org/entity/Q Entity URI La chaîne commence par http://commons.wikimedia.org/wiki/Special:FilePath Fichier média de Commons Literal http://www.w3.org/2001/XMLSchema#dateTime DateTime Literal http://www.opengis.net/ont/geosparql#wktLiteral Coordinate Literal http://www.w3.org/2001/XMLSchema#double http://www.w3.org/2001/XMLSchema#float http://www.w3.org/2001/XMLSchema#decimal http://www.w3.org/2001/XMLSchema#integer http://www.w3.org/2001/XMLSchema#long http://www.w3.org/2001/XMLSchema#int http://www.w3.org/2001/XMLSchema#short http://www.w3.org/2001/XMLSchema#nonNegativeInteger http://www.w3.org/2001/XMLSchema#positiveInteger http://www.w3.org/2001/XMLSchema#unsignedLong http://www.w3.org/2001/XMLSchema#unsignedInt http://www.w3.org/2001/XMLSchema#unsignedShort http://www.w3.org/2001/XMLSchema#nonPositiveInteger http://www.w3.org/2001/XMLSchema#negativeInteger Nombre Literal N'a pas de type RDF Libellé Literal A une propriété xml:lang Libellé Literal La chaîne est de type /^[0-9A-F]{6}$/ Couleur  Formatage Il y a un formatage spécial pour les types de données suivants : Type de données Format Entity Lien vers Wikidata.org Le libellé est raccourci en wd:Qxx Explorer un élément (icône agrandir) DateTime MM DD, YYYY Bulle montrant l'horodatage en ISO brut Commons Media Lien vers Commons.Wikimedia.org Afficher une galerie (icône image)  Affichage sur mobile ou réactif Les différents affichages des résultats sont prévus pour fonctionner sur différents appareils et résolutions. Leur apparence peut changer en fonction de l'espace disponible sur l'écran. Mode intégration (embed) L'affichage des résultats peut être lié ou intégré via des iframes. Vous pouvez obtenir le lien ou le code en cliquant sur le bouton Lien du menu ci-dessus. Voir la différence : lien vers une requête et lien vers un résultat ou le code à intégrer : <iframe style=\"width:80vw; height:50vh;\" scrolling=\"yes\" frameborder=\"0\" src=\"http://tinyurl.com/zwf4k2w\">  Téléchargement des résultats Boutons de téléchargement des résultats Il y a plusieurs manières d'exporter les résultats d'une requête.JSON, TSV et CSV sont les trois différents formats ouverts pour télécharger les données présentes dans l'onglet Télécharger. Pour avoir les résultats au format XML, cliquer sur Lien > Point d'accès SPARQL.Vous pouvez également télécharger certaines vues graphiques en tant que fichier SVG : cette fonction est disponible avec toutes les vues sauf les tableaux, les grilles d'images, les frises chronologiques, les cartes et les graphes. Affichage par défaut L'affichage par défaut peut être défini pour chaque requête en utilisant un commentaire : #defaultView:[NAME] Par exemple : #defaultView:ImageGrid  Options d'affichage des résultats Les vues de résultats peuvent être configurées avec diverses options, qui sont spécifiées dans le format JSON (Q2063), soit en suivant le commentaire defaultView, (voir la section précédente) ou en suivant un commentaire séparé view. #defaultView:Map{\"layer\": \"?typeLabel\"}
#view:ImageGrid{\"hide\": \"?coords\"}  Titre Les vues de résultats peuvent afficher un titre. Le titre peut être défini par un commentaire title. #title:A title of your choice  Liste des balises WDQS Balises WDQS Options d'affichage Notes #defaultView:Table Table format par défaut lorsqu'il est omis #defaultView:ImageGrid Image grid Graph builder accès à l'outil de création des graphes #defaultView:Map Map #defaultView:LineChart Line chart #defaultView:BarChart Bar chart #defaultView:ScatterChart Scatter chart #defaultView:AreaChart Area chart #defaultView:BubbleChart Bubble chart #defaultView:TreeMap Tree map #defaultView:Tree Tree #defaultView:Timeline Timeline #defaultView:Dimensions Dimensions #defaultView:Graph Graph #title: titre du panneau comprenant les résultats WDQS #view: équivalent du préfixe #defaultView: Langue automatique Lorsque vous utilisez le mot clé magique [AUTO_LANGUAGE], il est remplacé par la langue utilisateur lors de la soumission de la requête. Cela permet d'écrire une requête avec l'endroit où le résultat est affiché dans la langue utilisateur.Exemple : """@en;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/Wikidata_Query_Help/Result_Views/fr>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:wikidata_prefixes;
  schema:target <https://query.wikidata.org/sparql/> .
