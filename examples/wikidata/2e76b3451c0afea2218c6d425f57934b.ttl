@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-2e76b3451c0afea2218c6d425f57934b> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d858964-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d858964-8E3DF70CEF773A5C318BB489FD3CEA46,
    _:genid-4e694113159d4e3db4a1a913894a81d858964-2BE4998FA3871B5456B8E1A24587A95E, _:genid-4e694113159d4e3db4a1a913894a81d858964-295128C1232013B1317A54BC1B62BC07,
    _:genid-4e694113159d4e3db4a1a913894a81d858964-2769B806D13EFA9DE3BD09EA06D36EA6, _:genid-4e694113159d4e3db4a1a913894a81d858964-653DBF5CF4032B3842873336AF02A1D0,
    _:genid-4e694113159d4e3db4a1a913894a81d858964-C149A2B9FDC58FCEDD2439BCFE41F004, _:genid-4e694113159d4e3db4a1a913894a81d858964-54E52FEA8FFABFC75A38A471123CA41A,
    _:genid-4e694113159d4e3db4a1a913894a81d858964-A7E11255F322A73F8C82DBBA8ED0BAE5, _:genid-4e694113159d4e3db4a1a913894a81d858964-55D13F15A7CE9489C7ECD1056B0F9869,
    _:genid-4e694113159d4e3db4a1a913894a81d858964-40BE9214757F14ED48F04406A4C449E1, _:genid-4e694113159d4e3db4a1a913894a81d858964-3DAFBBC20F7B3DF6EED197CF1B5CF2D0,
    _:genid-4e694113159d4e3db4a1a913894a81d858964-7E0AA8847DABF9A3CC06DEA29EF2D1B4, _:genid-4e694113159d4e3db4a1a913894a81d858964-82D12C946BC1906FAF186224CEDF5D9A,
    _:genid-4e694113159d4e3db4a1a913894a81d858964-720C4220A293774492875FDB6196D2E8, _:genid-4e694113159d4e3db4a1a913894a81d858964-C43AEB716FE382E72C5C67DF2AA05EB7,
    _:genid-4e694113159d4e3db4a1a913894a81d858964-A5573FE004C4400BBA59CF4751051F6C, _:genid-4e694113159d4e3db4a1a913894a81d858964-0753FF309B757B59121C02D8E29F5F5E,
    _:genid-4e694113159d4e3db4a1a913894a81d858964-4679C983CC792A9983CA86825A4E0E8F, _:genid-4e694113159d4e3db4a1a913894a81d858964-084A7C9A34EF85D52E3D6B959DC3F740,
    _:genid-4e694113159d4e3db4a1a913894a81d858964-A6FA05BD44322254CF6D483D07017D2D, _:genid-4e694113159d4e3db4a1a913894a81d858964-521C83C9D454AFB19CAF387B3B0B5918,
    _:genid-4e694113159d4e3db4a1a913894a81d858964-C1E24FF559A0DCD4844C1E2892CA0BB1, _:genid-4e694113159d4e3db4a1a913894a81d858964-58B5B2765C1DFFEE66A95EB8BB9D84C3,
    _:genid-4e694113159d4e3db4a1a913894a81d858964-82C460257C60E1E41E0691316361637D, _:genid-4e694113159d4e3db4a1a913894a81d858964-10773352BB0FA0529305910B99E7814C,
    _:genid-4e694113159d4e3db4a1a913894a81d858964-6F21A57452503677D8CE6DCDE9141803, _:genid-4e694113159d4e3db4a1a913894a81d858964-3557E2CD7E1D22761F83DBC1B67CA2B2,
    _:genid-4e694113159d4e3db4a1a913894a81d858964-868ECC5701449BE32BCE6F83EB769F4E, _:genid-4e694113159d4e3db4a1a913894a81d858964-C0715F4E1CAC9BD95E7C04EE9A37EB72;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX ps: <http://www.wikidata.org/prop/statement/>
PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
PREFIX p: <http://www.wikidata.org/prop/>
PREFIX bd: <http://www.bigdata.com/rdf#>
#defaultView:ImageGrid
# <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">Items in the Messier Catalog</span>
SELECT DISTINCT ?item ?itemLabel ?numero (SAMPLE(?image) AS ?image)
WHERE {
  ?item p:P528 ?catalogStatement .
  ?catalogStatement ps:P528 ?numero .
  ?catalogStatement pq:P972 wd:Q14530 .
  OPTIONAL {?item wdt:P18 ?image . }

	SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],mul,en\" }
}
GROUP BY ?item ?itemLabel ?numero 
ORDER BY ?numero""" .
