@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-a4531192b63bee5946df3ab7ba600d69> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d815722-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d815722-0952FE4CA0BA60744AD456DAB4079094,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-35F0EBA6F80EB4E6B87EB16A1C1A0B05, _:genid-4e694113159d4e3db4a1a913894a81d815722-12ED3146300FC37B7460D6F76ABC28EF,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-5A51DD1A64041AD97C94B0ABEEA93A4D, _:genid-4e694113159d4e3db4a1a913894a81d815722-5175AEDEB88F8526D5C52EDFEC81C5A6,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-71BFE4598EAF0CF4F57AB3F7F55AF5BE, _:genid-4e694113159d4e3db4a1a913894a81d815722-7215C0A99E80C094F346014BF54495D1,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-8C005A7390463C3EDC95356207B7F62E, _:genid-4e694113159d4e3db4a1a913894a81d815722-5E2B22812005F97DD8CAFE61678EC0AB,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-4F60BFC588BF1DFEBD52D7E658445118, _:genid-4e694113159d4e3db4a1a913894a81d815722-8E29176E59AD7B7B28D6C18CA9C02C67,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-FCB8554F2C8831962C81204259EEAABF, _:genid-4e694113159d4e3db4a1a913894a81d815722-D0599EABD83E2B9B0207BA70B24C4390,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-164DBB5A82322DDB2ECB1238DE5C9FB1, _:genid-4e694113159d4e3db4a1a913894a81d815722-14FB4056F22A35AA4787AA6233937531,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-F3DFBA940C1D29CBC2C86805790D2295, _:genid-4e694113159d4e3db4a1a913894a81d815722-0CB22F61C96E8A77DE9F72DCAF3BA539,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-57D2FC09E36D61DA6510EFB7E9E15988, _:genid-4e694113159d4e3db4a1a913894a81d815722-E9564599BC3C66946AA59E29F036AD63,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-E86DA31E1348581A4E600FD896A04348, _:genid-4e694113159d4e3db4a1a913894a81d815722-E69B5BF0FB9E44B7B2258DBE5971C7AE,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-6C2631C04B545543D7323E12D1981E5E, _:genid-4e694113159d4e3db4a1a913894a81d815722-FE8A8E769AD6DD1362D9876D8BA49D9B,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-3AD36A8E230EEB3F17F228A07D1768CC, _:genid-4e694113159d4e3db4a1a913894a81d815722-A7D8FC19DE014309B97B86BA756A757D,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-5FDF7649DAF5FD012265DF778920F100, _:genid-4e694113159d4e3db4a1a913894a81d815722-16B3F23BFD2F0D25260AC46E4A950110,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-C701F0B3759AC4CE25AC623F5BD06D16, _:genid-4e694113159d4e3db4a1a913894a81d815722-14EE630DACC11B0BCA199E7C98BD88A2,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-EC5EF58A0FB0AD33410A32394925DF2A, _:genid-4e694113159d4e3db4a1a913894a81d815722-AB6B603451917CA83566D2E19E6F2E71,
    _:genid-4e694113159d4e3db4a1a913894a81d815722-F1623DB5A06AECD40607CFD8830E6156, _:genid-4e694113159d4e3db4a1a913894a81d815722-985F8BD31D6941DB72787458ED64CF6A;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX ps: <http://www.wikidata.org/prop/statement/>
PREFIX pq: <http://www.wikidata.org/prop/qualifier/>
PREFIX p: <http://www.wikidata.org/prop/>
PREFIX bd: <http://www.bigdata.com/rdf#>
SELECT ?order ?item ?itemLabel
(STR(?_yandex) AS ?yandex)
(STR(?_apple) AS ?apple)
(CONCAT(\"https://open.spotify.com/track/\", ?spotify_id) AS ?spotify)
(CONCAT(\"https://www.amazon.com/dp/\", ?amazon_id) AS ?amazon)
{
  wd:Q105834355 p:P658 ?st . ?st ps:P658 ?item .

  OPTIONAL { ?st pq:P1545 ?order } . 
  OPTIONAL {?item p:P750 [ps:P750 wd:Q4537983 ; pq:P2699 ?_yandex ] .}
  OPTIONAL {?item p:P750 [ps:P750 wd:Q20056642 ; pq:P2699 ?_apple ] .}
  OPTIONAL {?item wdt:P5749 ?amazon_id .}
  OPTIONAL {?item wdt:P2207 ?spotify_id .}

  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],ru,en\" }
} ORDER BY xsd:integer(?order)""" .
