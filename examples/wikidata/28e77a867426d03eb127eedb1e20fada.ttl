@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-28e77a867426d03eb127eedb1e20fada> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  sh:select """SELECT * WHERE {
  ?subject ?pred1 ?obj1 .
  ?subject ?pred2 ?obj2
}""";
  rdfs:comment """Screenshot of the WDQS query editor, which allows queries to be modified and then executed. A page for interesting or illustrative queries. It also discusses how queries can be shown on wiki pages, including either the full code of the query or a templated link.For absolute beginners we recommend first watching the in-depth video tutorial by WMF, before they continue reading this page, as this will help with avoiding common pitfalls and get started. Contents 1 Understanding SPARQL 1.1 Spouses of Madonna 1.2 A minimalist query 1.3 US presidents and their spouses 1.4 US presidents and their spouses, in date order 1.5 Alternative query, via United States of America (Q30) and head of government (P6) 2 Optionality and alternatives 2.1 Optional requirements 2.2 Combining alternatives 2.3 Filtering a particular variable for desired values 2.4 Excluding subsets 3 Querying a class tree 3.1 Properties registered as properties for this type (P1963) for a class or its super-classes 4 Counting and ranking 4.1 Counting 4.2 Ranking 4.3 More examples 5 Adding labels for properties 5.1 Identifiers found most often on items with Art UK artist ID (P1367) 6 Working with qualifiers 6.1 All properties using the specified qualifier with specified value 6.2 Most used qualifiers for a given property 6.3 Properties a qualifier is most commonly applied to 6.4 Most common property + value combinations a qualifier is applied to 6.5 Most frequent values for a given qualifier 6.6 Most used qualifiers in general 6.7 Statements without a specific qualifier for a given property 6.8 Statements without any qualifier for a given property 6.9 Most used qualifier values for a particular statement and qualifier combination 7 Working with references 7.1 Statements without a reference for a particular property 7.2 Properties most often applied to references 7.3 Cactaceae taxa with names referenced to be stated in (P248) either of two books 7.4 Number of references to Le Figaro 7.5 References to Le Figaro website 8 Working with sitelinks 8.1 Countries that have sitelinks to en-wiki 8.2 Countries that have a Featured Article on Russian Wikipedia 8.3 Numbers of sitelinks for items with Art UK artist ID (P1367) for each language 9 Working with dates 9.1 Count of people with place of burial (P119) = Père Lachaise Cemetery (Q311), broken out by year 9.2 People buried at Père Lachaise, born on this day 9.3 Male Americans born after 1875 and before 1930, that have a day-specific date of death, but only a year-specific date of birth. 9.4 People born on this day, generally 9.5 Individuals with the same value for a given property, who appear to share the same day-specific dates of birth and death. 10 Working with coordinates 10.1 Query to find latitudes and longitudes for places in Paris 10.2 Maximum and minimum latitudes and longitudes for places in Paris 10.3 Places within 1 km of the Arc de Triomphe (Q64436) 10.4 Places within 0.01 degrees latitude and longitude of the Arc de Triomphe (Q64436) 10.5 Places between Arc de Triomphe (Q64436) and Louvre Museum (Q19675) 10.6 Distance between Berlin (Q64) and New York (Q1384) 11 Working with first names 11.1 Queries to find most common variants of a particular first name 11.2 Query to find individuals with similar first names and matching dates of birth and death 12 Federation: working with external data sources 13 Templated SPARQL queries, and links from wikipages 13.1 Showing only query links 13.2 Templated queries 13.3 Code on wikipages 13.4 Templates to help build queries : Partial queries 14 Query by natural language 14.1 Missing labels for a target language 14.2 Missing description for a target language 15 Full-text search 16 Resources Understanding SPARQL [edit] Spouses of Madonna [edit] Below is a SPARQL query to return a list of the spouses of the singer Madonna (Q1744): SELECT ?spouse ?spouseLabel WHERE {
   wd:Q1744 wdt:P26 ?spouse.
   SERVICE wikibase:label {
     bd:serviceParam wikibase:language \"en\" .
   }
}
 Try it! Clicking the link above will load the query into the query editor, where it can be modified and executed (and modified again and executed again, and again and again, etc, the more you want to experiment with it). Try it now.How does this work? What is going on here?The key to understanding the query above is the line wd:Q1744 wdt:P26 ?spouse. SPARQL views the entire database (and any other database that can be queried alongside it) as being completely composed of triples, of the form ?subject  ?predicate  ?object Everything in a SPARQL database is cast into triples of this form.The query above is therefore asking SPARQL to return a ?spouse (and a label for it) for every triple of the form wd:Q1744 wdt:P26 ?spouse, where wd:Q1744 stands for the Wikidata entity Madonna (Q1744), and wdt:P26 is a representation of the Wikidata property spouse (P26). Using the query editor it is now easy to change P26 to other properties, and Q1744 to other items, to try a multitude of other combinations.(All the ever-present ? symbols in SPARQL, eg before ?subject or ?spouse, can be quite off-putting to start with, but are simply SPARQL's way of indicating a variable – similar to the $ before a variable like $count in some other programming languages. In fact $ can also be used for variables in SPARQL instead of ?, but ? is more common.) A minimalist query [edit] So what sort of statements are in the database? Very nearly the next most minimal query it is possible to write in SPARQL has the form """@en;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:wikidata_prefixes, _:genid-9eb55b2583ef4ad09d9d48ff9f18ffec125675-wikidata_prefixes;
  schema:target <https://query.wikidata.org/sparql/> .
