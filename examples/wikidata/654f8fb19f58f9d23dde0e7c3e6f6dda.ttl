@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-654f8fb19f58f9d23dde0e7c3e6f6dda> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  rdfs:comment """Welcome to WikiProject Gene Wiki This page documents the Pathway bot, that it is maintained within the Wikiproject Gene Wiki. It is a WikiProject dedicated to make and maintiain Wikidata as a central hub of linked knowledge on Genes, Proteins, Diseases, Drugs, and related concepts. On this page query examples on pathway content on Wikidata. Query suggestion or requests are more than welcome. Request and suggestion can be submitted to the Discussion page Contents 1 Source specific queries 1.1 WikiPathways 1.1.1 List all items sourced from WikiPathways 1.1.2 List all items sourced from WikiPathways and the last update in Wikidata 1.1.3 Chromosomal positions of genes in a WikiPathways 1.2 Reactome 1.2.1 List all items sourced from Reactome 1.2.2 List all items sourced from Reactome and the last update in Wikidata 1.2.3 Get all top level entries from Reactome 1.2.4 Get all child nodes from Reactome 1.2.5 Visualize the hierarchies captured in Reactome 1.2.6 Chromosomal positions of genes in a Reactome 2 Combinatorial queries 2.1 WikiPathways and Reactome 2.1.1 WikiPathways and Reactome entries that share the same citation 2.2 Pathways and PDB 2.2.1 Biological pathways with protein structures in the PDB database 2.3 Compounds and Pathways 2.3.1 All compounds which are potentially targeting Parkinsons Disease Pathway (Q29883419) (Wikipathways) 2.3.2 All compounds which are potentially targeting Signaling by NOTCH1 in Cancer (Q37753018) (Reactome) 2.4 WikiPathways and CIViC 2.4.1 Get known variants reported in CIViC database (Q27612411) for genes reported in a WikiPathways pathway : Bladder cancer (Q30230812) 3 Federated queries 3.1 Wikidata and the SPARQL endpoint of WikiPathways 3.1.1 Known interaction types in WikiPathways for a pathway with Identifier WP716 3.1.2 Local annotations from WikiPathways using Federated query on a Pathway with identifier WP716 3.1.3 Lists SMILES of substrates and products of metabolic conversions. 3.1.4 Lists metabolites in WikiPathways and InChIKeys from Wikidata 3.1.5 Lists metabolites in WikiPathways with InChIKeys and formal charge from Wikidata 3.1.6 Lists metabolites in WikiPathways and chemical formulas and names from Wikidata Source specific queries [edit] WikiPathways [edit] List all items sourced from WikiPathways [edit] SELECT * WHERE {
   ?item wdt:P2410 ?wpid ;
}
 Try it! List all items sourced from WikiPathways and the last update in Wikidata [edit] The following query uses these:Properties: WikiPathways ID (P2410)   SELECT ?item ?itemLabel ?dateModifier WHERE {
   ?item wdt:P2410 ?wpid ;
         schema:dateModified ?dateModifier .
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
} Try it! Chromosomal positions of genes in a WikiPathways [edit] For pathway WP534 in this case: The following query uses these:Items: genome assembly GRCh38 (Q20966585)   Properties: has part(s) (P527)   , WikiPathways ID (P2410)   , chromosome (P1057)   , short name (P1813)   , HGNC gene symbol (P353)   , genomic start (P644)   , genomic end (P645)   , genomic assembly (P659)   SELECT DISTINCT ?name ?chr ?start ?stop WITH {
  SELECT DISTINCT ?gene ?name ?chr WHERE {
    VALUES ?pathwayID { \"WP534\" }
    ?pathway wdt:P527 ?gene ;
             wdt:P2410 ?pathwayID .
    ?gene wdt:P1057/wdt:P1813 ?chr ;
          wdt:P353 ?name .
  }
} AS %result
WHERE {
  INCLUDE %result
  ?gene p:P644 [
    pq:P659 wd:Q20966585 ;
    ps:P644 ?start
  ] .
  ?gene p:P645 [
    pq:P659 wd:Q20966585 ;
    ps:P645 ?stop
  ]
} Try it! And try this visualisation too. Reactome [edit] List all items sourced from Reactome [edit] The following query uses these:Properties: Reactome ID (P3937)   SELECT DISTINCT ?pathway ?pathwayLabel ?reactomeID WHERE {
    ?pathway wdt:P3937 ?reactomeID .
            
   SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
} Try it! List all items sourced from Reactome and the last update in Wikidata [edit] The following query uses these:Properties: Reactome ID (P3937)   SELECT ?item ?itemLabel ?dateModifier WHERE {
   ?item wdt:P3937 ?wpid ;
         schema:dateModified ?dateModifier .
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
} Try it! Get all top level entries from Reactome [edit] The following query uses these:Properties: Reactome ID (P3937)   , has part(s) (P527)   SELECT DISTINCT ?item ?itemLabel WHERE {
   ?item wdt:P3937 ?reactome_id ;
         wdt:P527 ?pwpart .
    FILTER NOT EXISTS {
       ?parent wdt:P527 ?item .
      }       
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
} Try it! Get all child nodes from Reactome [edit] The following query uses these:Items: biological pathway (Q4915012)   , biological process (Q2996394)   Properties: Reactome ID (P3937)   , has part(s) (P527)   , instance of (P31)   SELECT DISTINCT ?item ?itemLabel  WHERE {
   ?item wdt:P3937 ?reactome_id ;
         wdt:P527 ?pwpart .
    FILTER NOT EXISTS {
       {?pwpart wdt:P31 wd:Q4915012 }
        UNION 
       {?pwpart wdt:P31 wd:Q2996394 }
       ?pwpart wdt:P527 ?child_node .
      }       
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
} Try it! Visualize the hierarchies captured in Reactome [edit] The following query uses these:Items: Metabolism of steroids (Q34340147)   Properties: Reactome ID (P3937)   , part of (P361)    Features: Graph (Q24515287)  """@en;
  dcterms:isPartOf <https://www.wikidata.org//wiki/User:Pathwaybot/query_examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d830665-wikidata_prefixes;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX bd: <http://www.bigdata.com/rdf#>
#defaultView:Graph
SELECT ?item ?itemLabel ?pwpart ?pwpartLabel WHERE {
  #VALUES ?pwpart {wd:Q34340147}
   ?item wdt:P3937 ?reactomeID1 .
   ?item wdt:P361+ ?pwpart .

  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}""" .
