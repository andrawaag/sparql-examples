@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-0f4a838bf1fc3ca317dff1591e67facc> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  rdfs:comment """Home Activity log Data model Identifiers Queries Tasks Video game-related SPARQL queries. Contents 1 Showcase queries 1.1 Series with the most games 1.2 Upcoming video games 1.3 Recent video-game-related items with sitelinks and external identifiers 1.4 Films based on video games 1.5 All video games developed or published by a given company 1.6 Characters 1.6.1 Video game characters named after humans 1.6.2 Characters from the Mario franchise by games in which they appear 1.6.3 Games with the most player characters 1.6.4 Games with female protagonists 1.6.5 Games with female player characters 1.6.6 Games with female characters 1.6.7 Games with LGBT characters 1.6.8 Games with LGBT protagonists 1.6.9 Games with LGBT player characters 1.7 Graph of video games genres 1.8 Video games whose composer is Japanese, not born in Tokyo, and less than 25 at the time 1.9 Timeline of games per platform 1.10 Video games and their trailers 1.11 Reviews 1.11.1 Video games with a 10/10 in Edge Magazine 1.11.2 Video games with an OpenCritic “Critics recommend” rating 1.11.3 Most-cited reviewers 1.12 Video game series with the longest time time gap between a game and its direct sequel 1.13 Video games with the most expansions 1.14 Video games with the most time elapsed between their announcement and their release 1.15 Events by number of video games announced 1.16 Awards 1.16.1 Video games with the most nominations at the given award ceremony 1.16.2 Video games with the most wins at the given award ceremony 1.17 Crowdfunding 1.17.1 Money, per currency, raised by video games through Kickstarter (crowdfunding) 1.17.2 Units sold per crowdfunded games 1.18 Video games with their sequels, predecessors and so on 1.19 Information on a video game series 1.20 Graph of relationships between video game databases 2 Maintenance queries 2.1 Video games with few statements and identifiers 2.2 Games published after their sequels 2.3 DLCs not linked to the main game 2.4 Video games whose developer is headquartered in a given country but with a different country of origin 2.5 Video game released on both a handheld and home platform of the same console generation 2.6 Video Games with series that are not \"video game series\" 2.7 Video games with a subclass of video game genre (Q659563) as instance of (P31) 2.8 Video games without gameplay-related genres 2.9 Most used properties on video game items Showcase queries [edit] Series with the most games [edit] SELECT ?series (SAMPLE(?_label) AS ?label) (COUNT(?game) AS ?count)
WHERE
{
  ?game wdt:P31 wd:Q7889;
          wdt:P179 ?series.
  ?series rdfs:label ?_label.
  FILTER(LANG(?_label) = \"en\").
}
GROUP BY ?series
ORDER BY DESC(?count)
 Try it! (QLever) Upcoming video games [edit] The following query uses these:Items: video game (Q7889)   Properties: instance of (P31)   , publication date (P577)   SELECT ?item ?itemLabel ?date WHERE {
   ?item wdt:P31 wd:Q7889 .
   ?item wdt:P577 ?date .
   FILTER(?date > NOW()).
   SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
} Try it! Recent video-game-related items with sitelinks and external identifiers [edit] The following query uses these:Items: video game (Q7889)   , video game compilation (Q16070115)   , video game series (Q7058673)   , Wikidata property related to video games (Q28147643)   Properties: instance of (P31)   , formatter URL (P1630)   , Wikidata item of this property (P1629)   SELECT ?item ?qid (GROUP_CONCAT( DISTINCT ?sitelink) as ?sitelinks) (GROUP_CONCAT( DISTINCT ?identifier) as ?identifiers) {
  VALUES ?gametype {wd:Q7889 wd:Q16070115 wd:Q7058673} .
  ?item wdt:P31 ?gametype .
  BIND (xsd:integer(STRAFTER(str(?item), \"Q\")) AS ?qid)
  FILTER (?qid > 51090000) . 
  OPTIONAL { 
    # Get sitelinks
    ?s schema:about ?item ; schema:inLanguage ?lang . 
    BIND(CONCAT(\"[\", str(?s), \" \", ?lang, \"]\") as ?sitelink)
    
    # Get external identifiers
    ?item ?prop ?id.
    ?propItem wikibase:directClaim ?prop.
    ?propItem wikibase:propertyType wikibase:ExternalId.
    ?propItem wdt:P31 wd:Q28147643 .
    ?propItem wdt:P1630 ?formatterurl . 
    ?propItem wdt:P1629 ?website .
    ?propItem rdfs:label ?propItemLabel .
    FILTER (lang(?propItemLabel) = \"en\"). 
    BIND(IRI(REPLACE(?id, '^(.+)$', ?formatterurl)) AS ?url).
    BIND(CONCAT(\"[\", str(?url), \" \", ?propItemLabel, \"]\") as ?identifier)
  } 
} GROUP BY ?item ?qid ORDER BY DESC(?qid) LIMIT 50 Try it! Films based on video games [edit] The following query uses these:Items: film (Q11424)   , video game (Q7889)   Properties: instance of (P31)   , based on (P144)   , subclass of (P279)   SELECT ?item ?itemLabel ?videogame ?videogameLabel WHERE {
  ?item wdt:P31 wd:Q11424.
  ?item wdt:P144 ?videogame.
  ?videogame (wdt:P31/wdt:P279*) wd:Q7889.
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
} Try it! All video games developed or published by a given company [edit] The following query uses these:Items: video game developer (Q210167)   , Linel (Q55587315)   Properties: instance of (P31)   , developer (P178)   , publisher (P123)   , publication date (P577)   #TEMPLATE={\"template\":\"Games developed and published by ?studio\",\"variables\":{\"?studio\":{\"query\":\" SELECT ?id WHERE { ?id wdt:P31 wd:Q210167 . }\"} } }
SELECT DISTINCT ?item ?itemLabel ?developer ?developerLabel ?publisher ?publisherLabel ?year WHERE {
  BIND(wd:Q55587315 AS ?studio)
  { ?item wdt:P178 ?studio. }
  UNION
  { ?item wdt:P123 ?studio. }
  OPTIONAL { ?item wdt:P178 ?developer. }
  OPTIONAL { ?item wdt:P123 ?publisher. }
  OPTIONAL {
    ?item wdt:P577 ?date.
    BIND(YEAR(?date) AS ?year)
  }
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
} ORDER BY ?year Try it! Characters [edit] Video game characters named after humans [edit] The following query uses these:Items: video game character (Q1569167)   , human (Q5)   Properties: instance of (P31)   , subclass of (P279)   , named after (P138)   SELECT DISTINCT ?item ?itemLabel ?named ?namedLabel
WHERE 
{
  ?item wdt:P31/wdt:P279* wd:Q1569167.
  ?item wdt:P138 ?named. 
  ?named wdt:P31 wd:Q5.
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
} Try it! source Characters from the Mario franchise by games in which they appear [edit] The following query uses these:Items: Mario franchise character (Q33093124)   , video game (Q7889)   Properties: instance of (P31)   , characters (P674)    Features: Graph (Q24515287)  """@en;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:WikiProject_Video_games/Queries>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d88666-wikidata_prefixes;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX bd: <http://www.bigdata.com/rdf#>
#defaultView:Graph
SELECT ?item ?itemLabel ?game ?gameLabel (\"00FFFF\" AS ?rgb) WHERE {
  ?item wdt:P31 wd:Q33093124.
  ?game wdt:P674 ?item;
    wdt:P31 wd:Q7889.
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }
}""" .
