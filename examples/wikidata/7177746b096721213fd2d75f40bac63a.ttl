@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-7177746b096721213fd2d75f40bac63a> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d855067-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d855067-E589FB7D677AA22B1471A0C2E52B18FD,
    _:genid-4e694113159d4e3db4a1a913894a81d855067-17B7E95BD1BDFE3CD49E6EEC2036155D, _:genid-4e694113159d4e3db4a1a913894a81d855067-42BA6D552A47DE6A7E4F68126901E09E,
    _:genid-4e694113159d4e3db4a1a913894a81d855067-05B53A2062CCB99958C450A46D4CBAC9, _:genid-4e694113159d4e3db4a1a913894a81d855067-6923D018BE2E5D9E509F37765A6FDBBE,
    _:genid-4e694113159d4e3db4a1a913894a81d855067-98BD1A72C130EC2F9A609DB204AB9291, _:genid-4e694113159d4e3db4a1a913894a81d855067-B7AA6214C8596A66C99501658917420A,
    _:genid-4e694113159d4e3db4a1a913894a81d855067-DF033B29436AC26A5CCC920CB753A49E, _:genid-4e694113159d4e3db4a1a913894a81d855067-997C7E4EA8148FD1E72F4ECDCA083EE0,
    _:genid-4e694113159d4e3db4a1a913894a81d855067-C777145185772CC2A3E291C3582E65D3, _:genid-4e694113159d4e3db4a1a913894a81d855067-B09D5C3250AD78A354A019C27780E1CA,
    _:genid-4e694113159d4e3db4a1a913894a81d855067-E5DE068D0B90BB36B42C715654DBFA15, _:genid-4e694113159d4e3db4a1a913894a81d855067-5DD9009BCF90B77D1FEC122745A361BC,
    _:genid-4e694113159d4e3db4a1a913894a81d855067-9FA10FAA062BAAFA5DF80CCBF2C17FA3, _:genid-4e694113159d4e3db4a1a913894a81d855067-94B51A0FD223AE7496A038E908F3A3D5,
    _:genid-4e694113159d4e3db4a1a913894a81d855067-80D39AC0F98C95060B34FE6FC32EEB79, _:genid-4e694113159d4e3db4a1a913894a81d855067-9FDB0168883AC71FC24F47DAD31B99F1,
    _:genid-4e694113159d4e3db4a1a913894a81d855067-7C5D95FE92A45D553A2E5B84368DB201, _:genid-4e694113159d4e3db4a1a913894a81d855067-AED335802E81C9E70FC1A2C61080D90F,
    _:genid-4e694113159d4e3db4a1a913894a81d855067-D598B621EF1CFC12AC13397F64E694B6, _:genid-4e694113159d4e3db4a1a913894a81d855067-9E6D896CC52D465F035579A23D2E1D0A,
    _:genid-4e694113159d4e3db4a1a913894a81d855067-5076BE99D6B77876ECEBFE010E2227EC, _:genid-4e694113159d4e3db4a1a913894a81d855067-2E9994ABE4E12C02EB004B2669B43170,
    _:genid-4e694113159d4e3db4a1a913894a81d855067-D00F2760E118F80175E159BB461BECCC, _:genid-4e694113159d4e3db4a1a913894a81d855067-3AB3F25D214A607A431923BA44D1701F,
    _:genid-4e694113159d4e3db4a1a913894a81d855067-8D6E03A8263669DF97E5399D0DE36DB7;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX schema: <http://schema.org/>
PREFIX bd: <http://www.bigdata.com/rdf#>
#title: <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">Items about authors with a Wikispecies page</span>
SELECT ?author ?authorLabel ?count

WHERE {
  {
  SELECT ?author (COUNT(?paper) AS ?count)
  WHERE {
    ?article schema:about ?author ;
      schema:isPartOf <https://species.wikimedia.org/> .
    ?author wdt:P31 wd:Q5.
    ?paper wdt:P50 ?author.
  }
  GROUP BY ?author
  ORDER BY DESC(?count)
  LIMIT 200
}
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],mul,en\" . }
}
ORDER BY DESC(?count)""";
  <http://example.org/bigdata_select> """#title: <span lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\">Items about authors with a Wikispecies page</span>
SELECT ?author ?authorLabel ?count
WITH {
  SELECT ?author (COUNT(?paper) AS ?count)
  WHERE {
    ?article schema:about ?author ;
      schema:isPartOf <https://species.wikimedia.org/> .
    ?author wdt:P31 wd:Q5.
    ?paper wdt:P50 ?author.
  }
  GROUP BY ?author
  ORDER BY DESC(?count)
  LIMIT 200
} AS %i
WHERE {
  INCLUDE %i
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],mul,en\" . }
}
ORDER BY DESC(?count)""" .
