@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-aff1327e89ee0decffd12fdcc64a84dc> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/cs>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/ar>,
    <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/de>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/ru>,
    <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/uk>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/fr>,
    <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/en>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music>,
    <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/be-tarask>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/ha>,
    <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/pt>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/he>,
    <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/zh>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/ca>,
    <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/dtp>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/id>,
    <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/syl>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/bn>,
    <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/ms>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/ms-arab>,
    <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/es>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/ja>,
    <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/tr>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/hy>,
    <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/nl>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/gu>,
    <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/da>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/it>,
    <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/sv>, <https://www.wikidata.org//wiki/Wikidata:WikiProject_Music/pl>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d845797-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d845797-5FA4B2770476FA20BA21250C313B1D6F,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-4FBD8B216AA8075AF07C4FD0B620E908, _:genid-4e694113159d4e3db4a1a913894a81d845797-CFB2FF2EAAFCB495223F56AED538C0D5,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-9CDBCAD265C44881C3D758C1572BD6D0, _:genid-4e694113159d4e3db4a1a913894a81d845797-35FBD3D89415925A9BB2A391EA8B7CCA,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-44226D6A350B92D46ED77357BF14AE55, _:genid-4e694113159d4e3db4a1a913894a81d845797-D4FAD44F90A3775A2C84E86FFE018A65,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-15458FDE33E1D9BCD8557B676BE86B6A, _:genid-4e694113159d4e3db4a1a913894a81d845797-3F4D1B2FE1C4FDC2F4047AEAE8A14296,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-86353E186AD9EA46BE6FDE117D7A3B73, _:genid-4e694113159d4e3db4a1a913894a81d845797-48C1ECCF800BF10994916E51B9E8FE49,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-91087E7787D35D09F0CE3F9C819E32C5, _:genid-4e694113159d4e3db4a1a913894a81d845797-35D47AC3D3B2185C319965FFD10843FA,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-7B595C829FF5069797073E6DCD3D7C40, _:genid-4e694113159d4e3db4a1a913894a81d845797-BA79F775D49DDD16A416DF10F127C47A,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-EA148F3E7864E5EEDACCA0347C37E089, _:genid-4e694113159d4e3db4a1a913894a81d845797-5492F795CD4998DC680363BD2B4EDF92,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-231EAA769FB7F58AF70413D8E8C343D3, _:genid-4e694113159d4e3db4a1a913894a81d845797-96ED72E3AD5A35C60D2AB1119B2961F9,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-BD269E99260F2957FEA076B79EB867FA, _:genid-4e694113159d4e3db4a1a913894a81d845797-0AA7E2AABA2F71B8A55DC554FF863991,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-472521D0188C7263ACF4DEED7199541F, _:genid-4e694113159d4e3db4a1a913894a81d845797-4FCA04FEE07F97424A18333DBAB65677,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-80ACBC610A655035E153020C6556F3F6, _:genid-4e694113159d4e3db4a1a913894a81d845797-104D9055BC095C9D7001F03A32D8C1AB,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-75BC7B2CE396D9578AC1AA29CA281098, _:genid-4e694113159d4e3db4a1a913894a81d845797-7756CB522BE1791A29EFAB6907289283,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-E180452705A47AD1DA8DCD99FE45DC11, _:genid-4e694113159d4e3db4a1a913894a81d845797-D6B8FC9752C69AEC1B34767C97E26FFB,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-70031673FDF6D2B5B5288583CCD139DD, _:genid-4e694113159d4e3db4a1a913894a81d845797-497D11E409007176201C408FE86EEA94,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-1504E521439E94BC44057006A3A1BAE3, _:genid-4e694113159d4e3db4a1a913894a81d845797-FC0884322E07F6D8CB08E2B41EE07F54,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-BED89DCFEF5ED810EBEC0E6A1F8ADB1A, _:genid-4e694113159d4e3db4a1a913894a81d845797-2D9A8FB7126CA5CFFF62046443014DC4,
    _:genid-4e694113159d4e3db4a1a913894a81d845797-AC1ECC8C466B6786B4228FEFD1D7FCC1, _:genid-4e694113159d4e3db4a1a913894a81d845797-4C59D3C1AE6519E924289397FFAAD7AA;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
SELECT DISTINCT ?genre
  (SAMPLE(COALESCE(?en_label, ?any_label)) as ?label)
  (GROUP_CONCAT(DISTINCT ?parent_label ; separator=\", \") as ?parent)
  (SAMPLE(?inception) as ?inception)
  (GROUP_CONCAT(DISTINCT ?origin_label ; separator=\", \") as ?origin)
  (SAMPLE(?image) as ?image)
  (SAMPLE(?audio) as ?audio)
  (SAMPLE(?video) as ?video)
WHERE {
  ?genre wdt:P31 wd:Q188451.
  OPTIONAL{?genre rdfs:label ?en_label. FILTER(LANG(?en_label) = \"en\")} OPTIONAL {?genre rdfs:label ?any_label}
  OPTIONAL{?genre wdt:P279 ?parent. ?parent rdfs:label ?parent_label. FILTER(LANG(?parent_label) = \"en\")}
  OPTIONAL{?genre wdt:P571 ?inception}
  OPTIONAL{?genre wdt:P495 ?origin. ?origin rdfs:label ?origin_label. FILTER(LANG(?origin_label) = \"en\")}
  OPTIONAL{?genre wdt:P18 ?image}
  OPTIONAL{?genre wdt:P51 ?audio}
  OPTIONAL{?genre wdt:P10 ?video}
}
GROUP BY ?genre ORDER BY ?origin""" .
