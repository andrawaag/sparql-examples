@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-de68d082a503d7167b9b7cebe724a8bc> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d824863-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d824863-07B8CB5632B957BE48AF1969B5ACA065,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-A52ADC50BFF420237367BE2E4BDF7177, _:genid-4e694113159d4e3db4a1a913894a81d824863-28E239DB73E35B9F692D4229C47B7C34,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-681BB5FA9559CD234114D862305D3C8F, _:genid-4e694113159d4e3db4a1a913894a81d824863-9116490DAF724F1C5B2F4CE3AB72FEF3,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-C9C0E2FD92F5FC0A6C4C5EE70EEB6C48, _:genid-4e694113159d4e3db4a1a913894a81d824863-C95ED68F110E32782CCCA73E4862AFE0,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-41C70169C861F022F3E4333483C11992, _:genid-4e694113159d4e3db4a1a913894a81d824863-BFACFA1716760BCF3F7D24791A7080C1,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-77D1550F5699728D2DC56F344CB3D8DF, _:genid-4e694113159d4e3db4a1a913894a81d824863-4B0462807C74FB1FF7313A9807FDBE6E,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-BBEC476A699EAD9B8EFFEDF18D31F487, _:genid-4e694113159d4e3db4a1a913894a81d824863-6F9B0614CAC658B4229CCA2D8C051B15,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-0FD304302B2115E2CD2401A10894421F, _:genid-4e694113159d4e3db4a1a913894a81d824863-BF8B2AA5089BB36D61EAA0F27DCCB363,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-3EACE2EC00F8A3C3ECF6906EC74E06DD, _:genid-4e694113159d4e3db4a1a913894a81d824863-6623030263A0890068A89F1FAB43604E,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-7BC3698D955384DB5264FEF7FDB6F010, _:genid-4e694113159d4e3db4a1a913894a81d824863-C8AD074D366C8503CB91284063D85781,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-14DF60FA3268F25EBEFD82A826AD1DA4, _:genid-4e694113159d4e3db4a1a913894a81d824863-E1B092D58F2D7DA2F9C9DEFEC7F315E6,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-55DE964429774241ACA3021C98F893FF, _:genid-4e694113159d4e3db4a1a913894a81d824863-8860184C75D6C22116CC9BFDD853997F,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-400FDAB04570FBF52E6325BDB87668A0, _:genid-4e694113159d4e3db4a1a913894a81d824863-5396366946A21370A7F96FCAA1985CCB,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-8A86CA50F5A1BAB2D69615CCFCD0C978, _:genid-4e694113159d4e3db4a1a913894a81d824863-B9D50201F9B8926D98E69ED25F908913,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-438DC88D3EB8EAFA79667D01D07B9CAC, _:genid-4e694113159d4e3db4a1a913894a81d824863-1333D21FBF71A416D4ED5C22CA4D2A49,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-41DC9D1B086E37E8698BD6F95F16C455, _:genid-4e694113159d4e3db4a1a913894a81d824863-2D91F0F823FA15E8E81C860AF4934636,
    _:genid-4e694113159d4e3db4a1a913894a81d824863-8C46EBC50EB0526BA143C230B5C11DA8, _:genid-4e694113159d4e3db4a1a913894a81d824863-966167635EE6CCF2CC357C50230F9E95;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX bd: <http://www.bigdata.com/rdf#>
SELECT
  ?discoverer ?discovererLabel
  (COUNT(DISTINCT ?planet) as ?count)
  (GROUP_CONCAT(DISTINCT(?planetLabel); separator=\", \") as ?planets)
WHERE
{
  ?ppart wdt:P279* wd:Q634 .
  ?planet wdt:P31 ?ppart .
  ?planet wdt:P61 ?discoverer .
  SERVICE wikibase:label {
    bd:serviceParam wikibase:language \"en\" .
    ?discoverer rdfs:label ?discovererLabel .
    ?planet rdfs:label ?planetLabel
  }
}
GROUP BY ?discoverer ?discovererLabel
ORDER BY DESC(?count)""" .
