@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-a25af072517c6d3e40f4f977b4d268b3> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d849538-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d849538-564E7A30670C1BBAD2907EFD13B60597,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-BC10C1C41EE498A9B8C11B6B2D0E0DB5, _:genid-4e694113159d4e3db4a1a913894a81d849538-BB4415D40AC2A4ADE1226CB946AC48B5,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-0B58D0158E1F80112000DD5C5A207CD0, _:genid-4e694113159d4e3db4a1a913894a81d849538-B4F3CE650CA90A871270F7BD4B938C9A,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-30128D313D0D41507AA4C6B666949E32, _:genid-4e694113159d4e3db4a1a913894a81d849538-3AC6122117037D22C94913F55EA21FF5,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-FFD1E52952FF690D1644034B13F89EB3, _:genid-4e694113159d4e3db4a1a913894a81d849538-A9B46C40F095BF74BF5A3B89C2AB9AB8,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-8D3DF3E5113627998721B5507EB0430E, _:genid-4e694113159d4e3db4a1a913894a81d849538-5E818A3CA09CD80EE4D2C7A85E1F0C69,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-6D18E3750EF9E68C74360B642971F7AB, _:genid-4e694113159d4e3db4a1a913894a81d849538-E9B7FA2B20B6F9E99E25C3DFF59EAE42,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-7115B364A5A2185200E3C6A993DEF102, _:genid-4e694113159d4e3db4a1a913894a81d849538-E8AADAD672E851062A016F0FCF6D12A6,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-D974F5ED2616C096900C718AC188A7E6, _:genid-4e694113159d4e3db4a1a913894a81d849538-8BDC9EA22F5DBDCC7CD6F1C5479C92EC,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-555CB9771BFA843394C36E40BA3F1076, _:genid-4e694113159d4e3db4a1a913894a81d849538-8086F1D524B2DA56065AB2D7C58DEF74,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-50E7A29C05E36C7618E2AA8296069739, _:genid-4e694113159d4e3db4a1a913894a81d849538-CC5A8B8D7AB300E0C70BA853C2D80060,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-0B10FE8B8F530653CE06FD78B8C1D010, _:genid-4e694113159d4e3db4a1a913894a81d849538-2AA0FDADCA7C259A0B6F3774A01E7652,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-46F571CFB60103846960A18EAD286BDE, _:genid-4e694113159d4e3db4a1a913894a81d849538-6DB7FD165A10A276C868CC1D50ACCBE5,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-4DA4C0E51CBF8D0ADC7F364482A1BF86, _:genid-4e694113159d4e3db4a1a913894a81d849538-6128AFA0F48EE0BA59AA9F5498E87FCB,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-2D2C7B4B82D3608853686356F29E3684, _:genid-4e694113159d4e3db4a1a913894a81d849538-1353964F4ED18E885F7D298D8BD00430,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-8DE88B9D103E92981630620215F05F9F, _:genid-4e694113159d4e3db4a1a913894a81d849538-4C9658F8E90DD83F8FB87C111D05C5D9,
    _:genid-4e694113159d4e3db4a1a913894a81d849538-88AC328F8E62EF496C3C8D26C0FEB6E2, _:genid-4e694113159d4e3db4a1a913894a81d849538-31234B789D953BF98B4556D4D353C84D;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX bd: <http://www.bigdata.com/rdf#>
#defaultView:ScatterChart
PREFIX var_muntype: <http://www.wikidata.org/entity/Q15284>
PREFIX var_area: <http://www.wikidata.org/entity/Q6308>
SELECT ?from (?distNum AS ?kilometers) ?to (?from AS ?animation) WHERE {
  { SELECT ?mun (SAMPLE(?loc) AS ?loc)
    WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                 wdt:P131 var_area:;
                 wdt:P625 ?loc. }
    GROUP BY ?mun
  }
  OPTIONAL {
    { SELECT (?mun AS ?mun2) (SAMPLE(?loc) AS ?loc2)
      WHERE { ?mun wdt:P31/wdt:P279* var_muntype:;
                   wdt:P131 var_area:;
                   wdt:P625 ?loc. }
      GROUP BY ?mun
    }
  }
  BIND(geof:distance(?loc, ?loc2) AS ?distNum).

  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],mul,en\".
    ?mun rdfs:label ?from.
    ?mun2 rdfs:label ?to.
  }
}
ORDER BY ?from ?kilometers""" .
