@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-d697864d61d015d047efaeb700eeb0af> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d841135-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d841135-61B778266A3CF9E5244EA65936957216,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-A1A734A204DBD78AEE0DE7C583708A84, _:genid-4e694113159d4e3db4a1a913894a81d841135-8E71CD2567B54A5529478564AAFD1DBF,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-F37EEB5413DB0EEEAC3BDE15FC0705F8, _:genid-4e694113159d4e3db4a1a913894a81d841135-4A1FE0166C5313CB377F9E419EFEB5F4,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-8257B3D6EE93EA23C8B76745FCE71438, _:genid-4e694113159d4e3db4a1a913894a81d841135-C3C6D683BD514E728850276256370C87,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-99835961EC83927044281357DE0D87D9, _:genid-4e694113159d4e3db4a1a913894a81d841135-079D4EE50F842FFCD4A21CC25418C015,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-0B8499D2B4C4A587ABEAEECC786EA2E4, _:genid-4e694113159d4e3db4a1a913894a81d841135-726441806F268B3341A854F2C47704EF,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-20B26D87121AF1548FAE610D5DB71D2C, _:genid-4e694113159d4e3db4a1a913894a81d841135-8C163D5F44DE4E499284C2547425F03E,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-CFC9B444E7DD9C6400D7A252CA49FDA6, _:genid-4e694113159d4e3db4a1a913894a81d841135-AB928A40AFE93CF6A8D86BA37FCAB405,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-284102BF34B0477710D70B905A58F7DA, _:genid-4e694113159d4e3db4a1a913894a81d841135-71906AD48F1D2BC2F4670DB6EBEFB5A1,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-B4AAAB6EDD96BEF5FD4DBA52AAF97DB0, _:genid-4e694113159d4e3db4a1a913894a81d841135-7E56DEEBE1970EF5690418D6A32809B4,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-010FABB010C707265C4FBC3E3027B863, _:genid-4e694113159d4e3db4a1a913894a81d841135-22868D421D65CD1A0035B2BA5AE78601,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-8359D81365D8B190888DD23C5BDE9BD7, _:genid-4e694113159d4e3db4a1a913894a81d841135-DC32521FF8A80119F3BF33DDD9B2DC43,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-1D953EA6BDA8EB237FFCD3B05522D121, _:genid-4e694113159d4e3db4a1a913894a81d841135-B58AEDBB33891CA18C2CBE93684754B7,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-22FE3F41CC3C9656DA18144AEA20049A, _:genid-4e694113159d4e3db4a1a913894a81d841135-3140386C0163989B6F1024226CB30F20,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-C89B849C3906BF9260B6032F3F39DE64, _:genid-4e694113159d4e3db4a1a913894a81d841135-3224AB488EA90BC4DBDEF8784E2BC798,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-E7C8D5DE9F673548ADB3B5D6C9A3AB4F, _:genid-4e694113159d4e3db4a1a913894a81d841135-A984B65E08065AFA0A505A84413AFFF0,
    _:genid-4e694113159d4e3db4a1a913894a81d841135-3D8124DF7C451C383E156748E7FD312F, _:genid-4e694113159d4e3db4a1a913894a81d841135-3034F3D456E7709B8D1F03D9E39AD3FB;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX psn: <http://www.wikidata.org/prop/statement/value-normalized/>
PREFIX p: <http://www.wikidata.org/prop/>
PREFIX bd: <http://www.bigdata.com/rdf#>
#by Jura1, 2021-05-21
#defaultView:Map{\"hide\":[\"?coor\",\"?area_scale_km\"], \"layer\": \"?area_scale_km\"}
SELECT ?item ?itemLabel ?itemDescription ?coor ?area_sqkm ?area_scale_km
{
  ?item wdt:P31/wdt:P279* wd:Q35666 .
  OPTIONAL { ?item wdt:P625 ?coor }
  OPTIONAL { ?item p:P2046 [ a wikibase:BestRank; psn:P2046/wikibase:quantityAmount ?area_sqm ] .
    BIND( ROUND(?area_sqm/10000)/100 as ?area_sqkm)
    BIND( strlen(str(ROUND(?area_sqm/1000000))) as ?area_scale_km)
  }
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],mul,en\". }
}""" .
