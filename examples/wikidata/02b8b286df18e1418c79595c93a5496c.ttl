@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-02b8b286df18e1418c79595c93a5496c> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d839152-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d839152-F16B8E5AD7CF42247B72EA8D7BBE4E42,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-35E2919B3EDAE4955119C5F0B6D88EC8, _:genid-4e694113159d4e3db4a1a913894a81d839152-BBFD6765BB3BFF5B1E1BC3770D112107,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-D40357357CA57F357F19B281038096EC, _:genid-4e694113159d4e3db4a1a913894a81d839152-27182B2FDB928B6F778D0AD392B03AE6,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-5B374AC1A6936D7BFCFB09630E685BDE, _:genid-4e694113159d4e3db4a1a913894a81d839152-FA3B3CD224B34E2DCD7CB9FB88913D2D,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-6378A6E287D544615CA297C0FD176BA5, _:genid-4e694113159d4e3db4a1a913894a81d839152-31EFC41F19B6A27EC566A3A8104988D5,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-35EE5E6963AF3D21005D70246F34078F, _:genid-4e694113159d4e3db4a1a913894a81d839152-52E8EC0B6D99E07AE1AA75A4A8191160,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-465D7D0EA5FA752F6B3579C3FF0C6AF7, _:genid-4e694113159d4e3db4a1a913894a81d839152-419C8D4EE2D98335086D8871099705C3,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-B68BC89DEB5A2A64435FFC2384887410, _:genid-4e694113159d4e3db4a1a913894a81d839152-D4F2C8187652AADD507E159C5A613060,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-487AF8B2591245BFDE7AB94059649EA1, _:genid-4e694113159d4e3db4a1a913894a81d839152-ED53D815DBD5293A257A3AA06F3E44BC,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-0E33FA66EDA4A8230534CABCBFE17945, _:genid-4e694113159d4e3db4a1a913894a81d839152-95F8F5D8B70A3E1DD22552C9C8B16D2F,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-18EC4E0DBC0D39D3691DE8E555E58E82, _:genid-4e694113159d4e3db4a1a913894a81d839152-E90A16DEDE83A14B63BAEB7969B87E64,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-1E130477680C4B11DF7C84B636D133C8, _:genid-4e694113159d4e3db4a1a913894a81d839152-64F3422A74D7E30AAAB82224D21B0F27,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-053B74D9DEA38D632D51BCABEDBACFD3, _:genid-4e694113159d4e3db4a1a913894a81d839152-FA177B817E915B64ECE338F45AE25F5D,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-823B38423A606D1532235A3B1B9BE43F, _:genid-4e694113159d4e3db4a1a913894a81d839152-0555A6CEDDD874349A0E4DE7F68D83CD,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-44923FAE033C7AB02C7061CAE41FB29F, _:genid-4e694113159d4e3db4a1a913894a81d839152-392C48FA73FDAE96B68EEADDD30AF189,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-99D5FF70459AD07429252142BEF75DB1, _:genid-4e694113159d4e3db4a1a913894a81d839152-1D1341A6D09BBF0D923D60934DBA4052,
    _:genid-4e694113159d4e3db4a1a913894a81d839152-EC505A569F37F25FA9A65E787C4F80BB, _:genid-4e694113159d4e3db4a1a913894a81d839152-71F28B951DAD090FA6768E574ADAE2D2;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX bd: <http://www.bigdata.com/rdf#>
SELECT ?father ?fatherLabel (SAMPLE(?picture_) AS ?picture) ?children

WHERE
{
  {
  SELECT ?father (COUNT(?father) AS ?children)
  WHERE
  {
    ?subj wdt:P22 ?father .
  }
  GROUP BY ?father
  ORDER BY DESC(?children)
  LIMIT 50
}
  OPTIONAL { ?father wdt:P18 ?picture_ . }
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],mul,en\" }
}
GROUP BY ?father ?fatherLabel ?children
ORDER BY DESC(?children)""";
  <http://example.org/bigdata_select> """SELECT ?father ?fatherLabel (SAMPLE(?picture_) AS ?picture) ?children
WITH
{
  SELECT ?father (COUNT(?father) AS ?children)
  WHERE
  {
    ?subj wdt:P22 ?father .
  }
  GROUP BY ?father
  ORDER BY DESC(?children)
  LIMIT 50
}
AS %get_fathers
WHERE
{
  INCLUDE %get_fathers
  OPTIONAL { ?father wdt:P18 ?picture_ . }
  SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],mul,en\" }
}
GROUP BY ?father ?fatherLabel ?children
ORDER BY DESC(?children)""" .
