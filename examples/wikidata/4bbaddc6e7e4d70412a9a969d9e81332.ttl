@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix schema: <https://schema.org/> .

<https://www.wikidata.org/#query-4bbaddc6e7e4d70412a9a969d9e81332> a sh:SPARQLExecutable,
    sh:SPARQLSelectExecutable;
  dcterms:isPartOf <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/th>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eu>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en-gb>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/vec>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/hy>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/id>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/be-tarask>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/tr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ro>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/he>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/zh>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pt-br>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/si>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/eo>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/da>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ar>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ko>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/pl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ms>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/sv>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/lt>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/nl>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ca>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/uk>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/it>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ja>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/es>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/cs>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/ru>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/de>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/fr>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples/en>,
    <https://www.wikidata.org//wiki/Wikidata:SPARQL_query_service/queries/examples>;
  dcterms:license <https://creativecommons.org/licenses/by-sa/4.0/>;
  sh:prefixes _:genid-4e694113159d4e3db4a1a913894a81d827809-wikidata_prefixes, _:genid-4e694113159d4e3db4a1a913894a81d827809-D6408580900297307742EDA4A4845421,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-0E5CED295E75D5FDE4799470CC558825, _:genid-4e694113159d4e3db4a1a913894a81d827809-F218039F45BC1656B36BEE73E161B98B,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-D27BDA84633795EDD9F041E8FA976434, _:genid-4e694113159d4e3db4a1a913894a81d827809-3EF30EE53624DB679778FE9E1B1E3282,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-AE368C6838B1ECDA00A6EAF9D719875C, _:genid-4e694113159d4e3db4a1a913894a81d827809-B32632024C0126D8A7A9C94B645E32CB,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-E3593B19AD68E190A855E32514FDD407, _:genid-4e694113159d4e3db4a1a913894a81d827809-C9EB5C917A9645F26A232978767377FC,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-D0EE0D5214CBB4C5B1DBE8D2FF703406, _:genid-4e694113159d4e3db4a1a913894a81d827809-A05BCC270D4781FC2C97C186D46391BF,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-757B57CF3464C8863D5D3D66AED4CA95, _:genid-4e694113159d4e3db4a1a913894a81d827809-D51E1C9CF7463A7B1D95DDEFA3C9046B,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-9C3C956D785B90B163B733E19FD10339, _:genid-4e694113159d4e3db4a1a913894a81d827809-BA8A1A0FCFE6DECC5B43735982877737,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-5198420E4E89BA439C72ABE20F247391, _:genid-4e694113159d4e3db4a1a913894a81d827809-3EC4BE4D0FC2394B345C6E1016630DB1,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-7F96C2BBC7CDA11E748B99B5A41DABE6, _:genid-4e694113159d4e3db4a1a913894a81d827809-6E80B5A26CEBCCBB8322A8A5AA91F641,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-B6E3C961A1D35D5ACAB7473AAB0A85F3, _:genid-4e694113159d4e3db4a1a913894a81d827809-816E2DC47B353453BABA4214918FD15A,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-5FCACCB1A3D0D31FC7EE4DFCF4E5CD1D, _:genid-4e694113159d4e3db4a1a913894a81d827809-532CBFFCE323CC2510209CA6D81C0538,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-8DBEAB15F0384592DD8EA9D9B711B1F0, _:genid-4e694113159d4e3db4a1a913894a81d827809-5747F85166CBEB7DD574A17CC1787B4A,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-60F8D766D839E49BFC3820F08C52C49B, _:genid-4e694113159d4e3db4a1a913894a81d827809-6327D5DCC1574A590277A0A244040932,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-C60A1C6BD41BAEDEC29D1602D6918C05, _:genid-4e694113159d4e3db4a1a913894a81d827809-234F2DEC70DFC051F3BD333B612E6A32,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-CE6B9CF39C8D1FCCE6A61FD27051BD03, _:genid-4e694113159d4e3db4a1a913894a81d827809-1C4AF97386ABA55245C23E449DEC2AB3,
    _:genid-4e694113159d4e3db4a1a913894a81d827809-ED558D9C1471456B8A24EF7B5FAFF157, _:genid-4e694113159d4e3db4a1a913894a81d827809-AFE3FDECB5B2803CC4CD369A9BD6D116;
  schema:target <https://query.wikidata.org/sparql/>;
  sh:select """PREFIX wikibase: <http://wikiba.se/ontology#>
PREFIX wdt: <http://www.wikidata.org/prop/direct/>
PREFIX wd: <http://www.wikidata.org/entity/>
PREFIX schema: <http://schema.org/>
SELECT ?item ?comm ?p373 ?cat WHERE {
  ?item wdt:P131* wd:Q894107. # ... municipality ...

  OPTIONAL {?comm schema:about ?item ; schema:isPartOf <https://commons.wikimedia.org/> .}
  BIND(replace(wikibase:decodeUri(SUBSTR(STR(?comm), 45)),\"_\",\" \") AS ?comm_decode)
   OPTIONAL {?item wdt:P373 ?p373 .}

 bind(COALESCE(?comm_decode, ?p373) as ?cat) .
 VALUES ?trida { wd:Q1746392 wd:Q108325 wd:Q4989906 wd:Q10861631 wd:Q15077340 wd:Q1516537 wd:Q47008262} # chapel, small monument, memorial, belltower, memorial monument, technical monument, group of small monuments
 ?item wdt:P31/wdt:P279* ?trida. # small monument
  }""" .
